(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[102],{2685:(e,t,s)=>{Promise.resolve().then(s.bind(s,8539))},8539:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var l=s(5155),i=s(4359),a=s(1180),n=s(2115),r=s(7916),o=s(646);let c=["#6366f1","#8b5cf6","#ec4899","#ef4444","#f97316","#eab308","#22c55e","#06b6d4","#3b82f6"];function d(){var e,t;let s=(0,i.IT)(a.FH.contacts.list,{}),d=(0,i.IT)(a.FH.batches.list),h=(0,i.n_)(a.FH.contacts.bulkCreate),x=(0,i.n_)(a.FH.contacts.create),m=(0,i.n_)(a.FH.batches.create),u=(0,i.n_)(a.FH.contacts.remove),p=(0,i.n_)(a.FH.batches.remove),b=(0,i.n_)(a.FH.batches.createFromSelection),[g,f]=(0,n.useState)(!1),[j,N]=(0,n.useState)(""),[w,v]=(0,n.useState)(""),[y,C]=(0,n.useState)(!1),[k,S]=(0,n.useState)(""),[D,_]=(0,n.useState)(c[0]),[I,z]=(0,n.useState)(!1),[A,F]=(0,n.useState)(null),[B,P]=(0,n.useState)(!1),[E,Z]=(0,n.useState)(""),[H,U]=(0,n.useState)(""),[L,M]=(0,n.useState)(""),[O,J]=(0,n.useState)(!1),[T,V]=(0,n.useState)("batches"),[W,$]=(0,n.useState)(null),[q,K]=(0,n.useState)(!1),[Q,G]=(0,n.useState)(""),[R,X]=(0,n.useState)(c[0]),[Y,ee]=(0,n.useState)(!1),[et,es]=(0,n.useState)(null),[el,ei]=(0,n.useState)(new Set),[ea,en]=(0,n.useState)(!1),[er,eo]=(0,n.useState)(""),[ec,ed]=(0,n.useState)(c[0]),[eh,ex]=(0,n.useState)(!1),em=(null==d?void 0:d.filter(e=>!e.parentBatchId))||[],eu=(null==d?void 0:d.filter(e=>e.parentBatchId===W))||[],ep=null==d?void 0:d.find(e=>e._id===W),eb=function(e){let t=[],s=new Set;for(let l of e.split(/[\n,;]+/)){let e=l.trim();if(!e)continue;let i=e.match(/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/),a=e.match(/(\+?1?[-.\s]?\(?[0-9]{3}\)?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4})/);if(i){let l=i[1].toLowerCase();if(!s.has(l)){s.add(l);let n={email:l};a&&(n.phone=a[1].replace(/[-.\s()]/g,""));let r=e.substring(0,e.indexOf(i[1])).trim();r&&!r.match(/^[\d\s+()-]+$/)&&(n.name=r.replace(/[<>:,;]+$/,"").trim()),t.push(n)}}else if(a){let e=a[1].replace(/[-.\s()]/g,"");s.has(e)||(s.add(e),t.push({email:"".concat(e,"@sms.placeholder"),phone:e}))}}return t}(j),eg=null==s?void 0:s.filter(e=>"all"===T||("none"===T?!e.batchId:"batches"!==T&&e.batchId===T)),ef=async()=>{if(0!==eb.length){z(!0),F(null);try{let e=w||void 0;y&&k.trim()&&(e=await m({name:k.trim(),color:D}));let t=await h({contacts:eb.map(e=>({email:e.email,name:e.name,phone:e.phone})),batchId:e});F(t),N(""),S(""),C(!1)}catch(e){console.error("Import failed:",e)}finally{z(!1)}}},ej=async()=>{if(E.trim()){J(!0);try{await x({email:E.trim().toLowerCase(),name:H.trim()||void 0,phone:L.trim()||void 0}),Z(""),U(""),M(""),P(!1)}catch(e){console.error("Failed to add contact:",e),alert("Failed to add contact. Email may already exist.")}finally{J(!1)}}},eN=e=>{if(!e)return null;let t=null==d?void 0:d.find(t=>t._id===e);return null==t?void 0:t.color},ew=e=>{if(!e)return null;let t=null==d?void 0:d.find(t=>t._id===e);return null==t?void 0:t.name},[ev,ey]=(0,n.useState)(null),eC=(e,t,s)=>{if(s.shiftKey&&null!==ev&&eg){let e=Math.min(ev,t),s=Math.max(ev,t),l=eg.slice(e,s+1).map(e=>e._id);ei(e=>{let t=new Set(e);return l.forEach(e=>t.add(e)),t})}else ei(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s}),ey(t)},ek=()=>{eg&&ei(new Set(eg.map(e=>e._id)))},eS=()=>{ei(new Set),ey(null)},eD=async()=>{if(0!==el.size&&er.trim()){ex(!0);try{await b({name:er.trim(),color:ec,contactIds:Array.from(el),parentBatchId:W}),en(!1),eo(""),ed(c[0]),ei(new Set),W||V("batches")}catch(e){console.error("Failed to create batch:",e),alert("Failed to create batch from selection")}finally{ex(!1)}}},e_=async()=>{if(W&&Q.trim()){ee(!0);try{await m({name:Q.trim(),color:R,parentBatchId:W}),K(!1),G(""),X(c[0])}catch(e){console.error("Failed to create sub-batch:",e),alert("Failed to create sub-batch")}finally{ee(!1)}}};return(0,l.jsxs)("div",{className:"min-h-screen bg-[#0a0a0f] text-white pb-20 md:pb-0",children:[(0,l.jsx)(r.j,{}),(0,l.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Contacts"}),(0,l.jsxs)("p",{className:"text-white/50 mt-1",children:[(null==s?void 0:s.length)||0," total contacts in your master list"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)("button",{onClick:()=>P(!0),className:"px-4 py-2.5 bg-white/10 border border-white/20 rounded-lg font-medium hover:bg-white/20 transition-colors flex items-center gap-2",children:[(0,l.jsx)("span",{children:"+"})," Add Contact"]}),(0,l.jsxs)("button",{onClick:()=>f(!0),className:"px-5 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg font-medium hover:opacity-90 transition-opacity flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-lg",children:"\uD83D\uDCE5"})," Import Batch"]})]})]}),"batches"!==T&&(0,l.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,l.jsx)("button",{onClick:()=>V("batches"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors flex items-center gap-2",children:"← Back to Batches"}),(0,l.jsx)("div",{className:"h-6 w-px bg-white/20"}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:["all"!==T&&"none"!==T&&eN(T)&&(0,l.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:eN(T)||"#6366f1"}}),(0,l.jsx)("h2",{className:"text-xl font-semibold",children:"all"===T?"All Contacts":"none"===T?"Unbatched Contacts":ew(T)}),(0,l.jsxs)("span",{className:"text-white/50",children:["(",(null==eg?void 0:eg.length)||0," contacts)"]})]})]}),"batches"===T&&(0,l.jsxs)("div",{children:[W&&(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,l.jsx)("button",{onClick:()=>$(null),className:"p-2 hover:bg-white/10 rounded-lg transition-colors flex items-center gap-2 text-white/60 hover:text-white",children:"← Back to All Batches"}),(0,l.jsx)("div",{className:"h-6 w-px bg-white/20"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-6 h-6 rounded flex items-center justify-center text-white font-bold text-xs",style:{backgroundColor:(null==ep?void 0:ep.color)||"#6366f1"},children:null==ep?void 0:ep.name.charAt(0).toUpperCase()}),(0,l.jsx)("h2",{className:"text-xl font-semibold",children:null==ep?void 0:ep.name}),(0,l.jsxs)("span",{className:"text-white/50 text-sm",children:["(",eu.length," zones)"]})]}),(0,l.jsx)("button",{onClick:()=>K(!0),className:"ml-auto px-3 py-1.5 bg-white/10 border border-white/20 rounded-lg text-sm hover:bg-white/20 transition-colors",children:"+ Add Zone"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[!W&&(0,l.jsxs)("button",{onClick:()=>V("all"),className:"p-5 rounded-xl border text-left transition-all bg-gradient-to-br from-indigo-500/20 to-purple-500/10 border-indigo-500/30 hover:border-indigo-500/50 hover:bg-indigo-500/10",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-lg",children:"\uD83D\uDC65"})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("h3",{className:"font-semibold truncate",children:"All Contacts"}),(0,l.jsx)("p",{className:"text-xs text-white/50",children:"Master list"})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-2xl font-bold",children:(null==s?void 0:s.length)||0}),(0,l.jsx)("span",{className:"text-xs text-white/40",children:"total"})]})]}),!W&&(0,l.jsxs)("button",{onClick:()=>V("none"),className:"p-5 rounded-xl border text-left transition-all bg-gradient-to-br from-white/5 to-white/[0.02] border-white/10 hover:border-white/20 hover:bg-white/5",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 rounded-lg bg-zinc-700 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-lg",children:"\uD83D\uDCCB"})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("h3",{className:"font-semibold truncate",children:"Unbatched"}),(0,l.jsx)("p",{className:"text-xs text-white/50",children:"Not in any batch"})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-2xl font-bold",children:(null==s?void 0:s.filter(e=>!e.batchId).length)||0}),(0,l.jsx)("span",{className:"text-xs text-white/40",children:"contacts"})]})]}),(W?eu:em).map(e=>{let t=(null==d?void 0:d.filter(t=>t.parentBatchId===e._id).length)||0,s=t>0;return(0,l.jsxs)("div",{onClick:()=>V(e._id),className:"p-5 rounded-xl border text-left transition-all group bg-gradient-to-br from-white/5 to-white/[0.02] border-white/10 hover:border-white/20 hover:bg-white/5 cursor-pointer",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-white font-bold text-sm",style:{backgroundColor:e.color||"#6366f1"},children:e.name.charAt(0).toUpperCase()}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("h3",{className:"font-semibold truncate",children:e.name}),e.description&&(0,l.jsx)("p",{className:"text-xs text-white/40 truncate",children:e.description}),s&&(0,l.jsxs)("p",{className:"text-xs text-indigo-400",children:[t," zones inside"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[s&&(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),$(e._id)},className:"opacity-0 group-hover:opacity-100 p-1.5 hover:bg-white/10 rounded-lg transition-all text-white/60",title:"View zones",children:"\uD83D\uDCC2"}),(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),confirm('Delete batch "'.concat(e.name,'"? Contacts will be kept.'))&&p({id:e._id})},className:"opacity-0 group-hover:opacity-100 p-1.5 hover:bg-red-500/20 rounded-lg transition-all text-red-400",children:"\uD83D\uDDD1️"})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-2xl font-bold",children:e.contactCount}),(0,l.jsx)("span",{className:"text-xs text-white/40",children:"contacts"})]})]},e._id)}),!W&&0===em.length&&(null==s?void 0:s.filter(e=>!e.batchId).length)===0&&(0,l.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,l.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-indigo-500/20 to-purple-500/20 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCE6"})}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No batches yet"}),(0,l.jsx)("p",{className:"text-white/50 mb-4",children:"Import contacts to create your first batch."}),(0,l.jsx)("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg font-medium hover:opacity-90 transition-opacity",children:"Import Contacts"})]}),W&&0===eu.length&&(0,l.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,l.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-indigo-500/20 to-purple-500/20 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCC1"})}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No zones yet"}),(0,l.jsxs)("p",{className:"text-white/50 mb-4",children:["Add zones to organize contacts within ",null==ep?void 0:ep.name,"."]}),(0,l.jsx)("button",{onClick:()=>K(!0),className:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg font-medium hover:opacity-90 transition-opacity",children:"+ Add Zone"})]})]})]}),"batches"!==T&&(0,l.jsx)(l.Fragment,{children:void 0===s?(0,l.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,l.jsx)("div",{className:"animate-spin w-8 h-8 border-2 border-indigo-500 border-t-transparent rounded-full"})}):(null==eg?void 0:eg.length)===0?(0,l.jsxs)("div",{className:"text-center py-20",children:[(0,l.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-indigo-500/20 to-purple-500/20 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-4xl",children:"\uD83D\uDC65"})}),(0,l.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"No contacts in this batch"}),(0,l.jsx)("p",{className:"text-white/50 mb-6",children:"Import contacts to add them to this batch."}),(0,l.jsx)("button",{onClick:()=>f(!0),className:"px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg font-medium hover:opacity-90 transition-opacity",children:"Import Contacts"})]}):(0,l.jsxs)(l.Fragment,{children:[(el.size>0||eg&&eg.length>0)&&(0,l.jsxs)("div",{className:"mb-4 flex items-center justify-between bg-white/5 border border-white/10 rounded-xl px-4 py-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("button",{onClick:el.size===(null==eg?void 0:eg.length)?eS:ek,className:"text-sm text-white/60 hover:text-white transition-colors",children:el.size===(null==eg?void 0:eg.length)?"Deselect All":"Select All"}),el.size>0&&(0,l.jsxs)("span",{className:"text-sm text-indigo-400",children:[el.size," selected"]})]}),el.size>0&&(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:()=>en(!0),className:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg font-medium text-sm hover:opacity-90 transition-opacity",children:"Create Batch from Selection"}),(0,l.jsx)("button",{onClick:eS,className:"px-3 py-2 text-sm text-white/60 hover:text-white transition-colors",children:"Clear"})]})]}),(0,l.jsx)("div",{className:"overflow-hidden rounded-xl border border-white/10",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{className:"bg-white/5",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-3 text-left w-10",children:(0,l.jsx)("input",{type:"checkbox",checked:(null!==(e=null==eg?void 0:eg.length)&&void 0!==e?e:0)>0&&el.size===(null!==(t=null==eg?void 0:eg.length)&&void 0!==t?t:0),onChange:()=>{var e;return el.size===(null!==(e=null==eg?void 0:eg.length)&&void 0!==e?e:0)?eS():ek()},className:"w-4 h-4 rounded bg-white/10 border-white/20 text-indigo-500 focus:ring-indigo-500 focus:ring-offset-0 cursor-pointer"})}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/50 uppercase",children:"Email"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/50 uppercase",children:"Name"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/50 uppercase",children:"Phone"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/50 uppercase",children:"Batch"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/50 uppercase",children:"Status"}),(0,l.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-white/50 uppercase",children:"Actions"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-white/5",children:null==eg?void 0:eg.map((e,t)=>(0,l.jsxs)("tr",{className:"hover:bg-white/5 transition-colors cursor-pointer ".concat(el.has(e._id)?"bg-indigo-500/10":""),onClick:s=>eC(e._id,t,s),children:[(0,l.jsx)("td",{className:"px-4 py-3",onClick:e=>e.stopPropagation(),children:(0,l.jsx)("input",{type:"checkbox",checked:el.has(e._id),onChange:s=>eC(e._id,t,s),className:"w-4 h-4 rounded bg-white/10 border-white/20 text-indigo-500 focus:ring-indigo-500 focus:ring-offset-0 cursor-pointer"})}),(0,l.jsx)("td",{className:"px-4 py-3 text-sm",children:e.email}),(0,l.jsx)("td",{className:"px-4 py-3 text-sm text-white/70",children:e.name||"—"}),(0,l.jsx)("td",{className:"px-4 py-3 text-sm text-white/70",children:e.phone?(0,l.jsxs)("a",{href:"tel:".concat(e.phone),onClick:e=>e.stopPropagation(),className:"text-green-400 hover:text-green-300 hover:underline flex items-center gap-1",children:["\uD83D\uDCDE ",e.phone]}):"—"}),(0,l.jsx)("td",{className:"px-4 py-3",children:e.batchId?(0,l.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:"".concat(eN(e.batchId),"20"),color:eN(e.batchId)||"#6366f1"},children:[(0,l.jsx)("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:eN(e.batchId)||"#6366f1"}}),ew(e.batchId)]}):(0,l.jsx)("span",{className:"text-white/30 text-xs",children:"—"})}),(0,l.jsx)("td",{className:"px-4 py-3",children:(0,l.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs ".concat("active"===e.status?"bg-green-500/20 text-green-400":"unsubscribed"===e.status?"bg-orange-500/20 text-orange-400":"bg-red-500/20 text-red-400"),children:e.status})}),(0,l.jsx)("td",{className:"px-4 py-3 text-right",children:(0,l.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),es(e._id)},className:"px-2.5 py-1 bg-indigo-500/20 text-indigo-400 hover:bg-indigo-500/30 rounded text-xs transition-colors",children:"View"}),(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),u({id:e._id})},className:"text-red-400/60 hover:text-red-400 text-xs",children:"Delete"})]})})]},e._id))})]})})]})})]}),g&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"bg-[#12121f] rounded-2xl border border-white/10 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"p-6 border-b border-white/10",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold",children:"Import Contacts"}),(0,l.jsx)("button",{onClick:()=>{f(!1),N(""),F(null)},className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:"✕"})]}),(0,l.jsx)("p",{className:"text-white/50 text-sm mt-1",children:"Paste emails, phone numbers, or contact lists. We'll auto-parse them."})]}),(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Paste your contacts (emails, phones, names)"}),(0,l.jsx)("textarea",{value:j,onChange:e=>N(e.target.value),placeholder:"john@example.com Jane Doe <jane@example.com> 555-123-4567 mike@company.com, bob@company.com sales@business.com; marketing@business.com",className:"w-full h-40 px-4 py-3 bg-black/40 border border-white/10 rounded-lg focus:outline-none focus:border-indigo-500 font-mono text-sm resize-none"})]}),eb.length>0&&(0,l.jsxs)("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)("span",{className:"text-green-400",children:"✓"}),(0,l.jsxs)("span",{className:"font-medium text-green-400",children:[eb.length," contacts detected"]})]}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2 max-h-24 overflow-y-auto",children:[eb.slice(0,20).map((e,t)=>(0,l.jsx)("span",{className:"px-2 py-1 bg-white/5 rounded text-xs text-white/70",children:e.email},t)),eb.length>20&&(0,l.jsxs)("span",{className:"px-2 py-1 text-xs text-white/50",children:["+",eb.length-20," more"]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-white/70",children:"Assign to Batch (optional)"}),(0,l.jsx)("div",{className:"flex items-center gap-4",children:(0,l.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:y,onChange:e=>{C(e.target.checked),e.target.checked&&v("")},className:"w-4 h-4 rounded border-white/20 bg-black/40"}),(0,l.jsx)("span",{className:"text-sm",children:"Create new batch"})]})}),y?(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("input",{type:"text",value:k,onChange:e=>S(e.target.value),placeholder:"Batch name (e.g., Q1 Campaign Leads)",className:"flex-1 px-4 py-2 bg-black/40 border border-white/10 rounded-lg focus:outline-none focus:border-indigo-500"}),(0,l.jsx)("div",{className:"flex gap-1",children:c.map(e=>(0,l.jsx)("button",{onClick:()=>_(e),className:"w-8 h-8 rounded-lg transition-all ".concat(D===e?"ring-2 ring-white ring-offset-2 ring-offset-[#12121f]":""),style:{backgroundColor:e}},e))})]}):d&&d.length>0?(0,l.jsxs)("select",{value:w,onChange:e=>v(e.target.value),className:"w-full px-4 py-2 bg-black/40 border border-white/10 rounded-lg focus:outline-none focus:border-indigo-500",children:[(0,l.jsx)("option",{value:"",children:"No batch (individual contacts)"}),d.map(e=>(0,l.jsxs)("option",{value:e._id,children:[e.name," (",e.contactCount," contacts)"]},e._id))]}):(0,l.jsx)("p",{className:"text-white/40 text-sm",children:'No batches yet. Check "Create new batch" to create one.'})]}),A&&(0,l.jsxs)("div",{className:"p-4 bg-indigo-500/10 border border-indigo-500/20 rounded-lg",children:[(0,l.jsx)("div",{className:"font-medium text-indigo-300",children:"Import Complete!"}),(0,l.jsxs)("div",{className:"text-sm text-white/70 mt-1",children:[A.created," contacts imported, ",A.skipped," duplicates skipped"]})]})]}),(0,l.jsxs)("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3",children:[(0,l.jsx)("button",{onClick:()=>{f(!1),N(""),F(null)},className:"px-4 py-2 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:"Close"}),(0,l.jsx)("button",{onClick:ef,disabled:0===eb.length||I||y&&!k.trim(),className:"px-6 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg font-medium hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:I?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Importing..."]}):(0,l.jsxs)(l.Fragment,{children:["Import ",eb.length," Contacts"]})})]})]})}),B&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>P(!1),children:(0,l.jsxs)("div",{className:"bg-[#12121f] rounded-2xl border border-white/10 w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{className:"p-6 border-b border-white/10",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold",children:"Add Contact"}),(0,l.jsx)("p",{className:"text-white/50 text-sm mt-1",children:"Add a single contact to your list"})]}),(0,l.jsxs)("div",{className:"p-6 space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:["Email Address ",(0,l.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,l.jsx)("input",{type:"email",value:E,onChange:e=>Z(e.target.value),placeholder:"contact@example.com",className:"w-full px-4 py-3 bg-black/40 border border-white/10 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors",autoFocus:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Name"}),(0,l.jsx)("input",{type:"text",value:H,onChange:e=>U(e.target.value),placeholder:"John Doe",className:"w-full px-4 py-3 bg-black/40 border border-white/10 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Phone Number"}),(0,l.jsx)("input",{type:"tel",value:L,onChange:e=>M(e.target.value),placeholder:"(555) 123-4567",className:"w-full px-4 py-3 bg-black/40 border border-white/10 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors"})]})]}),(0,l.jsxs)("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3",children:[(0,l.jsx)("button",{onClick:()=>{P(!1),Z(""),U(""),M("")},className:"px-4 py-2 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:"Cancel"}),(0,l.jsx)("button",{onClick:ej,disabled:!E.trim()||O,className:"px-6 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg font-medium hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:O?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Adding..."]}):"Add Contact"})]})]})}),ea&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"bg-[#12121f] rounded-2xl border border-white/10 w-full max-w-md",children:[(0,l.jsxs)("div",{className:"p-6 border-b border-white/10",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold",children:"Create Batch"}),(0,l.jsx)("button",{onClick:()=>en(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:"✕"})]}),(0,l.jsxs)("p",{className:"text-sm text-white/50 mt-1",children:["Create a new batch with ",el.size," selected contacts"]})]}),(0,l.jsxs)("div",{className:"p-6 space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Batch Name"}),(0,l.jsx)("input",{type:"text",value:er,onChange:e=>eo(e.target.value),placeholder:"e.g., West Coast Shops",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-white/30 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Batch Color"}),(0,l.jsx)("div",{className:"flex gap-2 flex-wrap",children:c.map(e=>(0,l.jsx)("button",{onClick:()=>ed(e),className:"w-8 h-8 rounded-full transition-all ".concat(ec===e?"ring-2 ring-offset-2 ring-offset-[#12121f] ring-white scale-110":"hover:scale-105"),style:{backgroundColor:e}},e))})]})]}),(0,l.jsxs)("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3",children:[(0,l.jsx)("button",{onClick:()=>en(!1),className:"px-4 py-2 text-white/60 hover:text-white transition-colors",children:"Cancel"}),(0,l.jsx)("button",{onClick:eD,disabled:!er.trim()||eh,className:"px-6 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg font-medium hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:eh?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creating..."]}):"Create Batch"})]})]})}),q&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"bg-[#12121f] rounded-2xl border border-white/10 w-full max-w-md",children:[(0,l.jsxs)("div",{className:"p-6 border-b border-white/10",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold",children:"Add Zone"}),(0,l.jsx)("button",{onClick:()=>K(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:"✕"})]}),(0,l.jsxs)("p",{className:"text-sm text-white/50 mt-1",children:["Add a zone within ",null==ep?void 0:ep.name]})]}),(0,l.jsxs)("div",{className:"p-6 space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Zone Name"}),(0,l.jsx)("input",{type:"text",value:Q,onChange:e=>G(e.target.value),placeholder:"e.g., Zone 1, North Phoenix, etc.",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-white/30 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Zone Color"}),(0,l.jsx)("div",{className:"flex gap-2 flex-wrap",children:c.map(e=>(0,l.jsx)("button",{onClick:()=>X(e),className:"w-8 h-8 rounded-full transition-all ".concat(R===e?"ring-2 ring-offset-2 ring-offset-[#12121f] ring-white scale-110":"hover:scale-105"),style:{backgroundColor:e}},e))})]})]}),(0,l.jsxs)("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3",children:[(0,l.jsx)("button",{onClick:()=>K(!1),className:"px-4 py-2 text-white/60 hover:text-white transition-colors",children:"Cancel"}),(0,l.jsx)("button",{onClick:e_,disabled:!Q.trim()||Y,className:"px-6 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg font-medium hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:Y?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creating..."]}):"Add Zone"})]})]})}),et&&(0,l.jsx)(o.A,{contactId:et,onClose:()=>es(null)})]})}function h(){return(0,l.jsx)(r.q,{children:(0,l.jsx)(d,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[190,463,350,23,441,517,358],()=>t(2685)),_N_E=e.O()}]);