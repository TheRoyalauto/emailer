(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[111],{3755:(e,t,s)=>{Promise.resolve().then(s.bind(s,9095))},6046:(e,t,s)=>{"use strict";var r=s(6658);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},9095:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(5155),a=s(2115),n=s(6046);function i(){let e=(0,n.useSearchParams)().get("email"),[t,s]=(0,a.useState)("idle"),[i,l]=(0,a.useState)(""),[o,c]=(0,a.useState)(!1),d=async()=>{if(e){s("loading");try{(await fetch("/api/unsubscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,reason:i})})).ok?(s("success"),c(!0)):s("error")}catch(e){s("error")}}};return(0,r.jsx)("div",{className:"min-h-screen bg-[#0a0a0f] text-white flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-[#12121f] rounded-2xl border border-white/10 p-8",children:[(0,r.jsx)("div",{className:"text-center mb-8",children:(0,r.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Emailer"})}),o?(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-5xl mb-4",children:"âœ…"}),(0,r.jsxs)("h2",{className:"text-xl font-semibold mb-2",children:["You","'","ve Been Unsubscribed"]}),(0,r.jsxs)("p",{className:"text-white/50",children:[e," has been removed from our mailing list."]}),(0,r.jsx)("p",{className:"text-white/40 text-sm mt-4",children:"You will no longer receive emails from us."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-center mb-2",children:"Unsubscribe"}),(0,r.jsx)("p",{className:"text-white/50 text-center mb-6",children:"You are about to unsubscribe:"}),(0,r.jsx)("div",{className:"p-4 bg-white/5 rounded-lg mb-6",children:(0,r.jsx)("div",{className:"text-center font-mono text-sm text-indigo-400",children:e||"No email provided"})}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"text-sm text-white/50 mb-2 block",children:"Why are you unsubscribing? (optional)"}),(0,r.jsxs)("select",{value:i,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 bg-black/40 border border-white/10 rounded-lg text-sm",children:[(0,r.jsx)("option",{value:"",children:"Select a reason..."}),(0,r.jsx)("option",{value:"too_many",children:"Too many emails"}),(0,r.jsx)("option",{value:"not_relevant",children:"Not relevant to me"}),(0,r.jsx)("option",{value:"never_signed_up",children:"Never signed up"}),(0,r.jsx)("option",{value:"other",children:"Other"})]})]}),(0,r.jsx)("button",{onClick:d,disabled:!e||"loading"===t,className:"w-full py-3 bg-gradient-to-r from-red-500 to-orange-500 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"loading"===t?"Processing...":"Confirm Unsubscribe"}),"error"===t&&(0,r.jsx)("p",{className:"text-red-400 text-sm text-center mt-4",children:"Something went wrong. Please try again."}),(0,r.jsx)("p",{className:"text-white/30 text-xs text-center mt-6",children:"If you unsubscribe by mistake, contact support to resubscribe."})]})]})})}function l(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen bg-[#0a0a0f] text-white flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin w-8 h-8 border-2 border-indigo-500 border-t-transparent rounded-full"})}),children:(0,r.jsx)(i,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(3755)),_N_E=e.O()}]);