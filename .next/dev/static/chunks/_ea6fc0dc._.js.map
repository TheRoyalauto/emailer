{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/swizz/Desktop/Emailer/emailer/convex/_generated/api.js"],"sourcesContent":["/* eslint-disable */\n/**\n * Generated `api` utility.\n *\n * THIS CODE IS AUTOMATICALLY GENERATED.\n *\n * To regenerate, run `npx convex dev`.\n * @module\n */\n\nimport { anyApi, componentsGeneric } from \"convex/server\";\n\n/**\n * A utility for referencing Convex functions in your app's API.\n *\n * Usage:\n * ```js\n * const myFunctionReference = api.myModule.myFunction;\n * ```\n */\nexport const api = anyApi;\nexport const internal = anyApi;\nexport const components = componentsGeneric();\n"],"names":[],"mappings":";;;;;;;;AAAA,kBAAkB,GAClB;;;;;;;CAOC,GAED;AAAA;AAAA;;AAUO,MAAM,MAAM,mKAAM;AAClB,MAAM,WAAW,mKAAM;AACvB,MAAM,aAAa,IAAA,8MAAiB"}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/swizz/Desktop/Emailer/emailer/src/components/Navigation.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { ReactNode } from \"react\";\r\n\r\nconst navItems = [\r\n    { href: \"/\", label: \"Dashboard\", icon: \"üìä\" },\r\n    { href: \"/lists\", label: \"Lists\", icon: \"üìã\" },\r\n    { href: \"/campaigns\", label: \"Campaigns\", icon: \"üìß\" },\r\n    { href: \"/templates\", label: \"Templates\", icon: \"üìù\" },\r\n    { href: \"/contacts\", label: \"Contacts\", icon: \"üë•\" },\r\n    { href: \"/senders\", label: \"Senders\", icon: \"‚öôÔ∏è\" },\r\n];\r\n\r\nexport default function Navigation({ children }: { children: ReactNode }) {\r\n    const pathname = usePathname();\r\n\r\n    return (\r\n        <div className=\"app-layout\">\r\n            <aside className=\"sidebar\">\r\n                <div style={{ marginBottom: 32 }}>\r\n                    <div\r\n                        style={{\r\n                            fontSize: 24,\r\n                            fontWeight: 700,\r\n                            background: \"var(--gradient-primary)\",\r\n                            WebkitBackgroundClip: \"text\",\r\n                            WebkitTextFillColor: \"transparent\",\r\n                            backgroundClip: \"text\",\r\n                            letterSpacing: \"-0.02em\",\r\n                        }}\r\n                    >\r\n                        Emailer\r\n                    </div>\r\n                    <div\r\n                        style={{\r\n                            fontSize: 12,\r\n                            color: \"var(--text-muted)\",\r\n                            marginTop: 4,\r\n                        }}\r\n                    >\r\n                        Campaign Platform\r\n                    </div>\r\n                </div>\r\n\r\n                <nav>\r\n                    {navItems.map((item) => (\r\n                        <Link\r\n                            key={item.href}\r\n                            href={item.href}\r\n                            className={`nav-link ${pathname === item.href ? \"active\" : \"\"}`}\r\n                        >\r\n                            <span className=\"nav-icon\">{item.icon}</span>\r\n                            <span>{item.label}</span>\r\n                        </Link>\r\n                    ))}\r\n                </nav>\r\n\r\n                <div\r\n                    style={{\r\n                        position: \"absolute\",\r\n                        bottom: 24,\r\n                        left: 16,\r\n                        right: 16,\r\n                        padding: 16,\r\n                        background: \"var(--bg-tertiary)\",\r\n                        borderRadius: \"var(--radius-md)\",\r\n                        border: \"1px solid var(--border-subtle)\",\r\n                    }}\r\n                >\r\n                    <div\r\n                        style={{\r\n                            fontSize: 12,\r\n                            color: \"var(--text-muted)\",\r\n                            marginBottom: 4,\r\n                        }}\r\n                    >\r\n                        Powered by\r\n                    </div>\r\n                    <div\r\n                        style={{\r\n                            fontSize: 14,\r\n                            fontWeight: 600,\r\n                            color: \"var(--text-secondary)\",\r\n                        }}\r\n                    >\r\n                        Convex\r\n                    </div>\r\n                </div>\r\n            </aside>\r\n\r\n            <main className=\"main-content\">\r\n                <div className=\"page-container\">{children}</div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAMA,MAAM,WAAW;IACb;QAAE,MAAM;QAAK,OAAO;QAAa,MAAM;IAAK;IAC5C;QAAE,MAAM;QAAU,OAAO;QAAS,MAAM;IAAK;IAC7C;QAAE,MAAM;QAAc,OAAO;QAAa,MAAM;IAAK;IACrD;QAAE,MAAM;QAAc,OAAO;QAAa,MAAM;IAAK;IACrD;QAAE,MAAM;QAAa,OAAO;QAAY,MAAM;IAAK;IACnD;QAAE,MAAM;QAAY,OAAO;QAAW,MAAM;IAAK;CACpD;AAEc,SAAS,WAAW,EAAE,QAAQ,EAA2B;;IACpE,MAAM,WAAW,IAAA,oJAAW;IAE5B,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAM,WAAU;;kCACb,6LAAC;wBAAI,OAAO;4BAAE,cAAc;wBAAG;;0CAC3B,6LAAC;gCACG,OAAO;oCACH,UAAU;oCACV,YAAY;oCACZ,YAAY;oCACZ,sBAAsB;oCACtB,qBAAqB;oCACrB,gBAAgB;oCAChB,eAAe;gCACnB;0CACH;;;;;;0CAGD,6LAAC;gCACG,OAAO;oCACH,UAAU;oCACV,OAAO;oCACP,WAAW;gCACf;0CACH;;;;;;;;;;;;kCAKL,6LAAC;kCACI,SAAS,GAAG,CAAC,CAAC,qBACX,6LAAC,0KAAI;gCAED,MAAM,KAAK,IAAI;gCACf,WAAW,CAAC,SAAS,EAAE,aAAa,KAAK,IAAI,GAAG,WAAW,IAAI;;kDAE/D,6LAAC;wCAAK,WAAU;kDAAY,KAAK,IAAI;;;;;;kDACrC,6LAAC;kDAAM,KAAK,KAAK;;;;;;;+BALZ,KAAK,IAAI;;;;;;;;;;kCAU1B,6LAAC;wBACG,OAAO;4BACH,UAAU;4BACV,QAAQ;4BACR,MAAM;4BACN,OAAO;4BACP,SAAS;4BACT,YAAY;4BACZ,cAAc;4BACd,QAAQ;wBACZ;;0CAEA,6LAAC;gCACG,OAAO;oCACH,UAAU;oCACV,OAAO;oCACP,cAAc;gCAClB;0CACH;;;;;;0CAGD,6LAAC;gCACG,OAAO;oCACH,UAAU;oCACV,YAAY;oCACZ,OAAO;gCACX;0CACH;;;;;;;;;;;;;;;;;;0BAMT,6LAAC;gBAAK,WAAU;0BACZ,cAAA,6LAAC;oBAAI,WAAU;8BAAkB;;;;;;;;;;;;;;;;;AAIjD;GAlFwB;;QACH,oJAAW;;;KADR"}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/swizz/Desktop/Emailer/emailer/src/components/ConfirmModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useCallback, useEffect, useState } from \"react\";\r\n\r\ninterface ConfirmModalProps {\r\n    isOpen: boolean;\r\n    title: string;\r\n    message: string;\r\n    confirmLabel?: string;\r\n    cancelLabel?: string;\r\n    variant?: \"danger\" | \"warning\" | \"default\";\r\n    onConfirm: () => void;\r\n    onCancel: () => void;\r\n}\r\n\r\nexport function ConfirmModal({\r\n    isOpen,\r\n    title,\r\n    message,\r\n    confirmLabel = \"Confirm\",\r\n    cancelLabel = \"Cancel\",\r\n    variant = \"default\",\r\n    onConfirm,\r\n    onCancel,\r\n}: ConfirmModalProps) {\r\n    // Handle escape key\r\n    useEffect(() => {\r\n        const handleKeyDown = (e: KeyboardEvent) => {\r\n            if (!isOpen) return;\r\n            if (e.key === \"Escape\") {\r\n                onCancel();\r\n            } else if (e.key === \"Enter\") {\r\n                onConfirm();\r\n            }\r\n        };\r\n\r\n        window.addEventListener(\"keydown\", handleKeyDown);\r\n        return () => window.removeEventListener(\"keydown\", handleKeyDown);\r\n    }, [isOpen, onConfirm, onCancel]);\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const variantStyles = {\r\n        danger: {\r\n            icon: \"üóëÔ∏è\",\r\n            buttonClass: \"btn btn-danger\",\r\n            accentColor: \"var(--accent-danger)\",\r\n        },\r\n        warning: {\r\n            icon: \"‚ö†Ô∏è\",\r\n            buttonClass: \"btn btn-secondary\",\r\n            accentColor: \"var(--accent-warning)\",\r\n        },\r\n        default: {\r\n            icon: \"‚ùì\",\r\n            buttonClass: \"btn btn-primary\",\r\n            accentColor: \"var(--accent-primary)\",\r\n        },\r\n    };\r\n\r\n    const styles = variantStyles[variant];\r\n\r\n    return (\r\n        <div\r\n            className=\"modal-overlay\"\r\n            onClick={(e) => e.target === e.currentTarget && onCancel()}\r\n            role=\"dialog\"\r\n            aria-modal=\"true\"\r\n            aria-labelledby=\"confirm-title\"\r\n        >\r\n            <div\r\n                className=\"modal\"\r\n                style={{\r\n                    maxWidth: 420,\r\n                    textAlign: \"center\",\r\n                }}\r\n            >\r\n                <div style={{ padding: 32 }}>\r\n                    <div\r\n                        style={{\r\n                            width: 64,\r\n                            height: 64,\r\n                            borderRadius: \"50%\",\r\n                            background: `${styles.accentColor}20`,\r\n                            display: \"flex\",\r\n                            alignItems: \"center\",\r\n                            justifyContent: \"center\",\r\n                            margin: \"0 auto 20px\",\r\n                            fontSize: 28,\r\n                        }}\r\n                    >\r\n                        {styles.icon}\r\n                    </div>\r\n\r\n                    <h2\r\n                        id=\"confirm-title\"\r\n                        style={{\r\n                            fontSize: 20,\r\n                            fontWeight: 600,\r\n                            marginBottom: 12,\r\n                        }}\r\n                    >\r\n                        {title}\r\n                    </h2>\r\n\r\n                    <p\r\n                        style={{\r\n                            color: \"var(--text-secondary)\",\r\n                            fontSize: 14,\r\n                            lineHeight: 1.6,\r\n                            marginBottom: 28,\r\n                        }}\r\n                    >\r\n                        {message}\r\n                    </p>\r\n\r\n                    <div style={{ display: \"flex\", gap: 12, justifyContent: \"center\" }}>\r\n                        <button\r\n                            className=\"btn btn-secondary\"\r\n                            onClick={onCancel}\r\n                            style={{ minWidth: 100 }}\r\n                        >\r\n                            {cancelLabel}\r\n                        </button>\r\n                        <button\r\n                            className={styles.buttonClass}\r\n                            onClick={onConfirm}\r\n                            style={{ minWidth: 100 }}\r\n                            autoFocus\r\n                        >\r\n                            {confirmLabel}\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div\r\n                        style={{\r\n                            marginTop: 16,\r\n                            fontSize: 12,\r\n                            color: \"var(--text-muted)\",\r\n                        }}\r\n                    >\r\n                        Press <kbd style={{\r\n                            background: \"var(--bg-tertiary)\",\r\n                            padding: \"2px 6px\",\r\n                            borderRadius: 4,\r\n                            fontSize: 11,\r\n                        }}>Enter</kbd> to confirm or <kbd style={{\r\n                            background: \"var(--bg-tertiary)\",\r\n                            padding: \"2px 6px\",\r\n                            borderRadius: 4,\r\n                            fontSize: 11,\r\n                        }}>Esc</kbd> to cancel\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Hook for easy confirm modal usage\r\nexport function useConfirm() {\r\n    const [state, setState] = useState<{\r\n        isOpen: boolean;\r\n        title: string;\r\n        message: string;\r\n        variant: \"danger\" | \"warning\" | \"default\";\r\n        resolve: ((value: boolean) => void) | null;\r\n    }>({\r\n        isOpen: false,\r\n        title: \"\",\r\n        message: \"\",\r\n        variant: \"default\",\r\n        resolve: null,\r\n    });\r\n\r\n    const confirm = useCallback(\r\n        (options: {\r\n            title: string;\r\n            message: string;\r\n            variant?: \"danger\" | \"warning\" | \"default\";\r\n        }): Promise<boolean> => {\r\n            return new Promise((resolve) => {\r\n                setState({\r\n                    isOpen: true,\r\n                    title: options.title,\r\n                    message: options.message,\r\n                    variant: options.variant ?? \"default\",\r\n                    resolve,\r\n                });\r\n            });\r\n        },\r\n        []\r\n    );\r\n\r\n    const handleConfirm = useCallback(() => {\r\n        state.resolve?.(true);\r\n        setState((s) => ({ ...s, isOpen: false, resolve: null }));\r\n    }, [state.resolve]);\r\n\r\n    const handleCancel = useCallback(() => {\r\n        state.resolve?.(false);\r\n        setState((s) => ({ ...s, isOpen: false, resolve: null }));\r\n    }, [state.resolve]);\r\n\r\n    const ConfirmDialog = () => (\r\n        <ConfirmModal\r\n            isOpen={state.isOpen}\r\n            title={state.title}\r\n            message={state.message}\r\n            variant={state.variant}\r\n            confirmLabel={state.variant === \"danger\" ? \"Delete\" : \"Confirm\"}\r\n            onConfirm={handleConfirm}\r\n            onCancel={handleCancel}\r\n        />\r\n    );\r\n\r\n    return { confirm, ConfirmDialog };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 537, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/swizz/Desktop/Emailer/emailer/src/components/EmailEditor.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useRef, useCallback, useEffect } from \"react\";\r\n\r\ninterface EmailEditorProps {\r\n    htmlBody: string;\r\n    onHtmlChange: (html: string) => void;\r\n    subject?: string;\r\n}\r\n\r\nconst VARIABLES = [\r\n    { key: \"{{firstName}}\", label: \"First Name\" },\r\n    { key: \"{{lastName}}\", label: \"Last Name\" },\r\n    { key: \"{{email}}\", label: \"Email\" },\r\n    { key: \"{{unsubscribeUrl}}\", label: \"Unsubscribe Link\" },\r\n];\r\n\r\nconst HTML_SNIPPETS = [\r\n    {\r\n        id: \"cta\",\r\n        icon: \"üîò\",\r\n        name: \"CTA Button\",\r\n        html: `<p style=\"margin:0 0 16px 0;\"><a href=\"https://example.com\" style=\"display:inline-block;padding:14px 28px;background:#8b5cf6;color:#ffffff;text-decoration:none;border-radius:8px;font-weight:600;font-size:16px;\">Get Started Now</a></p>`,\r\n    },\r\n    {\r\n        id: \"divider\",\r\n        icon: \"‚ûñ\",\r\n        name: \"Divider\",\r\n        html: `<hr style=\"margin:24px 0;border:none;border-top:1px solid #e5e5e5;\" />`,\r\n    },\r\n    {\r\n        id: \"bullets\",\r\n        icon: \"üìã\",\r\n        name: \"Bullet List\",\r\n        html: `<ul style=\"margin:0 0 16px 20px;padding:0;\">\r\n    <li style=\"margin:0 0 8px 0;\">First benefit or point</li>\r\n    <li style=\"margin:0 0 8px 0;\">Second benefit or point</li>\r\n    <li style=\"margin:0 0 8px 0;\">Third benefit or point</li>\r\n</ul>`,\r\n    },\r\n    {\r\n        id: \"callout\",\r\n        icon: \"üí°\",\r\n        name: \"Callout Box\",\r\n        html: `<div style=\"margin:0 0 16px 0;padding:16px 20px;background:#f3f4f6;border-left:4px solid #8b5cf6;border-radius:4px;\">\r\n    <strong style=\"display:block;margin-bottom:4px;\">Pro Tip:</strong>\r\n    <span style=\"color:#555;\">Your helpful tip or important note goes here.</span>\r\n</div>`,\r\n    },\r\n    {\r\n        id: \"signature\",\r\n        icon: \"‚úçÔ∏è\",\r\n        name: \"Signature\",\r\n        html: `<div style=\"margin-top:24px;padding-top:16px;border-top:1px solid #e5e5e5;\">\r\n    <p style=\"margin:0 0 4px 0;font-weight:600;\">Your Name</p>\r\n    <p style=\"margin:0;color:#666;font-size:14px;\">Your Title | Your Company</p>\r\n</div>`,\r\n    },\r\n    {\r\n        id: \"social\",\r\n        icon: \"üîó\",\r\n        name: \"Social Links\",\r\n        html: `<p style=\"margin:16px 0 0 0;font-size:14px;color:#666;\">\r\n    Follow us:\r\n    <a href=\"#\" style=\"color:#0066cc;text-decoration:none;margin-left:8px;\">Twitter</a> ¬∑\r\n    <a href=\"#\" style=\"color:#0066cc;text-decoration:none;margin-left:4px;\">LinkedIn</a> ¬∑\r\n    <a href=\"#\" style=\"color:#0066cc;text-decoration:none;margin-left:4px;\">Website</a>\r\n</p>`,\r\n    },\r\n];\r\n\r\nconst STARTER_TEMPLATE = `<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"utf-8\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n</head>\r\n<body style=\"margin:0;padding:0;background:#ffffff;\">\r\n    <div style=\"max-width:640px;margin:0 auto;padding:24px;font-family:Arial,Helvetica,sans-serif;font-size:16px;line-height:1.5;color:#111111;\">\r\n        <p style=\"margin:0 0 16px 0;\">Hi {{firstName}},</p>\r\n        <p style=\"margin:0 0 16px 0;\">Your message here...</p>\r\n        <p style=\"margin:0;\">Best regards</p>\r\n    </div>\r\n</body>\r\n</html>`;\r\n\r\nexport default function EmailEditor({ htmlBody, onHtmlChange, subject }: EmailEditorProps) {\r\n    const [previewMode, setPreviewMode] = useState<\"desktop\" | \"mobile\">(\"desktop\");\r\n    const [activeTab, setActiveTab] = useState<\"html\" | \"visual\">(\"html\");\r\n    const [showVariables, setShowVariables] = useState(false);\r\n    const textareaRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n    // Close dropdowns when clicking outside\r\n    useEffect(() => {\r\n        const handleClick = () => {\r\n            setShowVariables(false);\r\n        };\r\n        document.addEventListener(\"click\", handleClick);\r\n        return () => document.removeEventListener(\"click\", handleClick);\r\n    }, []);\r\n\r\n    // Insert text at cursor position\r\n    const insertAtCursor = useCallback((text: string) => {\r\n        const textarea = textareaRef.current;\r\n        if (!textarea) return;\r\n\r\n        const start = textarea.selectionStart;\r\n        const end = textarea.selectionEnd;\r\n        const newValue = htmlBody.substring(0, start) + text + htmlBody.substring(end);\r\n        onHtmlChange(newValue);\r\n\r\n        setTimeout(() => {\r\n            textarea.selectionStart = textarea.selectionEnd = start + text.length;\r\n            textarea.focus();\r\n        }, 0);\r\n    }, [htmlBody, onHtmlChange]);\r\n\r\n    // Wrap selection with tags\r\n    const wrapSelection = useCallback((before: string, after: string) => {\r\n        const textarea = textareaRef.current;\r\n        if (!textarea) return;\r\n\r\n        const start = textarea.selectionStart;\r\n        const end = textarea.selectionEnd;\r\n        const selectedText = htmlBody.substring(start, end);\r\n        const newValue = htmlBody.substring(0, start) + before + selectedText + after + htmlBody.substring(end);\r\n        onHtmlChange(newValue);\r\n\r\n        setTimeout(() => {\r\n            textarea.selectionStart = start + before.length;\r\n            textarea.selectionEnd = start + before.length + selectedText.length;\r\n            textarea.focus();\r\n        }, 0);\r\n    }, [htmlBody, onHtmlChange]);\r\n\r\n    const formatBold = () => wrapSelection(\"<strong>\", \"</strong>\");\r\n    const formatItalic = () => wrapSelection(\"<em>\", \"</em>\");\r\n    const formatLink = () => {\r\n        const url = prompt(\"Enter URL:\");\r\n        if (url) wrapSelection(`<a href=\"${url}\" style=\"color:#0066cc;text-decoration:underline;\">`, \"</a>\");\r\n    };\r\n    const formatParagraph = () => insertAtCursor('\\n<p style=\"margin:0 0 16px 0;\">New paragraph</p>');\r\n    const formatList = () => insertAtCursor('\\n<ul style=\"margin:0 0 16px 20px;padding:0;\">\\n    <li style=\"margin:0 0 6px 0;\">Item 1</li>\\n    <li style=\"margin:0 0 6px 0;\">Item 2</li>\\n</ul>');\r\n    const formatButton = () => {\r\n        const url = prompt(\"Button URL:\", \"https://\");\r\n        const text = prompt(\"Button text:\", \"Click Here\");\r\n        if (url && text) {\r\n            insertAtCursor(`\\n<p style=\"margin:0 0 16px 0;\"><a href=\"${url}\" style=\"display:inline-block;padding:12px 24px;background:#0066cc;color:#ffffff;text-decoration:none;border-radius:6px;font-weight:600;\">${text}</a></p>`);\r\n        }\r\n    };\r\n\r\n    const loadStarterTemplate = () => {\r\n        onHtmlChange(STARTER_TEMPLATE);\r\n    };\r\n\r\n    const insertSnippet = (html: string) => {\r\n        const textarea = textareaRef.current;\r\n        if (!textarea) {\r\n            // If no textarea, append to existing or set as new content\r\n            onHtmlChange(htmlBody + \"\\n\" + html);\r\n            return;\r\n        }\r\n        const start = textarea.selectionStart;\r\n        const end = textarea.selectionEnd;\r\n        const newValue = htmlBody.substring(0, start) + html + htmlBody.substring(end);\r\n        onHtmlChange(newValue);\r\n        setTimeout(() => {\r\n            textarea.selectionStart = textarea.selectionEnd = start + html.length;\r\n            textarea.focus();\r\n        }, 0);\r\n    };\r\n\r\n    // Preview with interpolated variables (sample data)\r\n    const getPreviewHtml = () => {\r\n        if (!htmlBody.trim()) {\r\n            return `\r\n                <div style=\"display:flex;align-items:center;justify-content:center;height:100%;font-family:Arial,sans-serif;color:#888;padding:40px;text-align:center;\">\r\n                    <div>\r\n                        <div style=\"font-size:48px;margin-bottom:16px;\">üìß</div>\r\n                        <div style=\"font-size:14px;\">Start typing or select a template<br/>to see your email preview here</div>\r\n                    </div>\r\n                </div>\r\n            `;\r\n        }\r\n        return htmlBody\r\n            .replace(/\\{\\{firstName\\}\\}/g, \"John\")\r\n            .replace(/\\{\\{lastName\\}\\}/g, \"Doe\")\r\n            .replace(/\\{\\{email\\}\\}/g, \"john@example.com\")\r\n            .replace(/\\{\\{unsubscribeUrl\\}\\}/g, \"#unsubscribe\");\r\n    };\r\n\r\n    const isEmpty = !htmlBody.trim();\r\n\r\n    return (\r\n        <div style={{ display: \"flex\", gap: 16, height: \"100%\" }}>\r\n            {/* Editor Panel */}\r\n            <div style={{ flex: 1, display: \"flex\", flexDirection: \"column\", minWidth: 0 }}>\r\n                {/* Toolbar */}\r\n                <div\r\n                    style={{\r\n                        display: \"flex\",\r\n                        gap: 6,\r\n                        padding: \"10px 12px\",\r\n                        background: \"var(--bg-tertiary)\",\r\n                        borderRadius: \"var(--radius-md) var(--radius-md) 0 0\",\r\n                        border: \"1px solid var(--border-subtle)\",\r\n                        borderBottom: \"none\",\r\n                        flexWrap: \"wrap\",\r\n                        alignItems: \"center\",\r\n                    }}\r\n                >\r\n                    {/* Tab switcher */}\r\n                    <div style={{\r\n                        display: \"flex\",\r\n                        gap: 2,\r\n                        padding: 2,\r\n                        background: \"var(--bg-primary)\",\r\n                        borderRadius: 6,\r\n                        marginRight: 8,\r\n                    }}>\r\n                        <button\r\n                            className={`btn btn-sm ${activeTab === \"html\" ? \"btn-primary\" : \"btn-ghost\"}`}\r\n                            onClick={() => setActiveTab(\"html\")}\r\n                            style={{ fontSize: 12, padding: \"5px 12px\", borderRadius: 4 }}\r\n                        >\r\n                            HTML\r\n                        </button>\r\n                        <button\r\n                            className={`btn btn-sm ${activeTab === \"visual\" ? \"btn-primary\" : \"btn-ghost\"}`}\r\n                            onClick={() => setActiveTab(\"visual\")}\r\n                            style={{ fontSize: 12, padding: \"5px 12px\", borderRadius: 4 }}\r\n                        >\r\n                            Visual\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div style={{ width: 1, height: 20, background: \"var(--border-subtle)\" }} />\r\n\r\n                    {/* Formatting buttons */}\r\n                    <button className=\"btn btn-ghost btn-sm\" onClick={formatBold} title=\"Bold\" style={{ padding: \"6px 10px\" }}>\r\n                        <strong>B</strong>\r\n                    </button>\r\n                    <button className=\"btn btn-ghost btn-sm\" onClick={formatItalic} title=\"Italic\" style={{ padding: \"6px 10px\" }}>\r\n                        <em>I</em>\r\n                    </button>\r\n                    <button className=\"btn btn-ghost btn-sm\" onClick={formatLink} title=\"Insert Link\" style={{ padding: \"6px 10px\" }}>\r\n                        üîó\r\n                    </button>\r\n                    <button className=\"btn btn-ghost btn-sm\" onClick={formatParagraph} title=\"Add Paragraph\" style={{ padding: \"6px 10px\" }}>\r\n                        ¬∂\r\n                    </button>\r\n                    <button className=\"btn btn-ghost btn-sm\" onClick={formatList} title=\"Add List\" style={{ padding: \"6px 10px\" }}>\r\n                        ‚Ä¢‚Ä¢‚Ä¢\r\n                    </button>\r\n                    <button className=\"btn btn-ghost btn-sm\" onClick={formatButton} title=\"Add CTA Button\" style={{ padding: \"6px 10px\" }}>\r\n                        üîò\r\n                    </button>\r\n\r\n                    <div style={{ width: 1, height: 20, background: \"var(--border-subtle)\" }} />\r\n\r\n                    {/* Variables dropdown */}\r\n                    <div style={{ position: \"relative\" }} onClick={(e) => e.stopPropagation()}>\r\n                        <button\r\n                            className=\"btn btn-ghost btn-sm\"\r\n                            onClick={() => setShowVariables(!showVariables)}\r\n                            style={{ padding: \"6px 10px\", fontSize: 12 }}\r\n                        >\r\n                            {`{{x}}`} ‚ñæ\r\n                        </button>\r\n                        {showVariables && (\r\n                            <div\r\n                                style={{\r\n                                    position: \"absolute\",\r\n                                    top: \"calc(100% + 4px)\",\r\n                                    left: 0,\r\n                                    background: \"var(--bg-secondary)\",\r\n                                    border: \"1px solid var(--border-subtle)\",\r\n                                    borderRadius: 8,\r\n                                    padding: 6,\r\n                                    zIndex: 100,\r\n                                    minWidth: 160,\r\n                                    boxShadow: \"0 8px 24px rgba(0,0,0,0.3)\",\r\n                                }}\r\n                            >\r\n                                <div style={{ fontSize: 11, color: \"var(--text-muted)\", padding: \"4px 8px\", marginBottom: 4 }}>\r\n                                    Insert Variable\r\n                                </div>\r\n                                {VARIABLES.map((v) => (\r\n                                    <button\r\n                                        key={v.key}\r\n                                        className=\"btn btn-ghost btn-sm\"\r\n                                        style={{ width: \"100%\", justifyContent: \"flex-start\", fontSize: 12, padding: \"6px 8px\" }}\r\n                                        onClick={() => {\r\n                                            insertAtCursor(v.key);\r\n                                            setShowVariables(false);\r\n                                        }}\r\n                                    >\r\n                                        <code style={{ marginRight: 8, opacity: 0.6 }}>{v.key}</code>\r\n                                        {v.label}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Editor Content - Always same layout */}\r\n                <div\r\n                    style={{\r\n                        flex: 1,\r\n                        background: \"var(--bg-primary)\",\r\n                        border: \"1px solid var(--border-subtle)\",\r\n                        borderRadius: \"0 0 var(--radius-md) var(--radius-md)\",\r\n                        padding: 16,\r\n                        display: \"flex\",\r\n                        flexDirection: \"column\",\r\n                        gap: 12,\r\n                        overflow: \"hidden\",\r\n                    }}\r\n                >\r\n                    {/* Insert Components - Always visible */}\r\n                    <div style={{ flexShrink: 0 }}>\r\n                        <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\", marginBottom: 8 }}>\r\n                            <span style={{ fontSize: 12, fontWeight: 500, color: \"var(--text-muted)\" }}>Insert Components</span>\r\n                            {isEmpty && (\r\n                                <button\r\n                                    onClick={loadStarterTemplate}\r\n                                    className=\"btn btn-ghost btn-sm\"\r\n                                    style={{ padding: \"4px 10px\", fontSize: 11 }}\r\n                                >\r\n                                    üìÑ Load Base Template\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                        <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(6, 1fr)\", gap: 6 }}>\r\n                            {HTML_SNIPPETS.map((snippet) => (\r\n                                <button\r\n                                    key={snippet.id}\r\n                                    onClick={() => insertSnippet(snippet.html)}\r\n                                    style={{\r\n                                        padding: \"8px\",\r\n                                        background: \"var(--bg-secondary)\",\r\n                                        border: \"1px solid var(--border-subtle)\",\r\n                                        borderRadius: 6,\r\n                                        display: \"flex\",\r\n                                        flexDirection: \"column\",\r\n                                        alignItems: \"center\",\r\n                                        gap: 4,\r\n                                        cursor: \"pointer\",\r\n                                        transition: \"all 0.15s ease\",\r\n                                        fontSize: 10,\r\n                                        color: \"var(--text-secondary)\",\r\n                                    }}\r\n                                    onMouseOver={(e) => {\r\n                                        e.currentTarget.style.borderColor = \"var(--accent-primary)\";\r\n                                        e.currentTarget.style.background = \"var(--bg-tertiary)\";\r\n                                        e.currentTarget.style.color = \"var(--text-primary)\";\r\n                                    }}\r\n                                    onMouseOut={(e) => {\r\n                                        e.currentTarget.style.borderColor = \"var(--border-subtle)\";\r\n                                        e.currentTarget.style.background = \"var(--bg-secondary)\";\r\n                                        e.currentTarget.style.color = \"var(--text-secondary)\";\r\n                                    }}\r\n                                    title={snippet.name}\r\n                                >\r\n                                    <span style={{ fontSize: 18 }}>{snippet.icon}</span>\r\n                                    <span style={{ fontWeight: 500 }}>{snippet.name}</span>\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* HTML Textarea - Always visible */}\r\n                    <textarea\r\n                        ref={textareaRef}\r\n                        className=\"form-textarea\"\r\n                        value={htmlBody}\r\n                        onChange={(e) => onHtmlChange(e.target.value)}\r\n                        style={{\r\n                            flex: 1,\r\n                            fontFamily: \"monospace\",\r\n                            fontSize: 13,\r\n                            lineHeight: 1.6,\r\n                            resize: \"none\",\r\n                            minHeight: 200,\r\n                        }}\r\n                        placeholder=\"<!DOCTYPE html>\r\n<html>\r\n<body>\r\n    <p>Your email content...</p>\r\n</body>\r\n</html>\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {/* Gmail-Style Preview Panel (Dark Theme) */}\r\n            <div style={{\r\n                width: previewMode === \"mobile\" ? 488 : 585,\r\n                flexShrink: 0,\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                background: \"var(--bg-secondary)\",\r\n                borderRadius: \"var(--radius-md)\",\r\n                border: \"1px solid var(--border-subtle)\",\r\n                overflow: \"hidden\",\r\n            }}>\r\n                {/* Preview Mode Toggle */}\r\n                <div\r\n                    style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"space-between\",\r\n                        alignItems: \"center\",\r\n                        padding: \"8px 12px\",\r\n                        background: \"var(--bg-tertiary)\",\r\n                        borderBottom: \"1px solid var(--border-subtle)\",\r\n                    }}\r\n                >\r\n                    <span style={{ fontSize: 12, fontWeight: 600, color: \"var(--text-secondary)\" }}>Gmail Preview</span>\r\n                    <div style={{\r\n                        display: \"flex\",\r\n                        gap: 2,\r\n                        padding: 2,\r\n                        background: \"var(--bg-primary)\",\r\n                        borderRadius: 6,\r\n                    }}>\r\n                        <button\r\n                            className={`btn btn-sm ${previewMode === \"desktop\" ? \"btn-primary\" : \"btn-ghost\"}`}\r\n                            onClick={() => setPreviewMode(\"desktop\")}\r\n                            style={{ fontSize: 10, padding: \"3px 8px\", borderRadius: 4 }}\r\n                        >\r\n                            üñ•Ô∏è\r\n                        </button>\r\n                        <button\r\n                            className={`btn btn-sm ${previewMode === \"mobile\" ? \"btn-primary\" : \"btn-ghost\"}`}\r\n                            onClick={() => setPreviewMode(\"mobile\")}\r\n                            style={{ fontSize: 10, padding: \"3px 8px\", borderRadius: 4 }}\r\n                        >\r\n                            üì±\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Gmail Chrome - Toolbar */}\r\n                <div style={{\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    gap: 12,\r\n                    padding: \"8px 16px\",\r\n                    background: \"var(--bg-tertiary)\",\r\n                    borderBottom: \"1px solid var(--border-subtle)\",\r\n                }}>\r\n                    <span style={{ cursor: \"pointer\", opacity: 0.5, fontSize: 14 }}>‚Üê</span>\r\n                    <span style={{ cursor: \"pointer\", opacity: 0.5, fontSize: 12 }}>üóëÔ∏è</span>\r\n                    <span style={{ cursor: \"pointer\", opacity: 0.5, fontSize: 12 }}>üìÅ</span>\r\n                    <span style={{ cursor: \"pointer\", opacity: 0.5, fontSize: 12 }}>‚ö†Ô∏è</span>\r\n                    <div style={{ flex: 1 }} />\r\n                    <span style={{ fontSize: 11, color: \"var(--text-muted)\" }}>1 of 1</span>\r\n                </div>\r\n\r\n                {/* Email Header - Subject */}\r\n                <div style={{\r\n                    padding: \"14px 16px 10px\",\r\n                    background: \"var(--bg-primary)\",\r\n                    borderBottom: \"1px solid var(--border-subtle)\",\r\n                }}>\r\n                    <h2 style={{\r\n                        margin: 0,\r\n                        fontSize: 18,\r\n                        fontWeight: 500,\r\n                        color: \"var(--text-primary)\",\r\n                    }}>\r\n                        {subject || \"No subject\"}\r\n                    </h2>\r\n                    <div style={{\r\n                        marginTop: 6,\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        gap: 6,\r\n                    }}>\r\n                        <span style={{\r\n                            display: \"inline-block\",\r\n                            padding: \"2px 8px\",\r\n                            background: \"rgba(139, 92, 246, 0.15)\",\r\n                            color: \"var(--accent-primary)\",\r\n                            borderRadius: 4,\r\n                            fontSize: 11,\r\n                            fontWeight: 500,\r\n                        }}>Inbox</span>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Sender Info */}\r\n                <div style={{\r\n                    display: \"flex\",\r\n                    alignItems: \"flex-start\",\r\n                    gap: 12,\r\n                    padding: \"14px 16px\",\r\n                    background: \"var(--bg-primary)\",\r\n                    borderBottom: \"1px solid var(--border-subtle)\",\r\n                }}>\r\n                    {/* Avatar */}\r\n                    <div style={{\r\n                        width: 36,\r\n                        height: 36,\r\n                        borderRadius: \"50%\",\r\n                        background: \"linear-gradient(135deg, var(--accent-primary) 0%, #a855f7 100%)\",\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"center\",\r\n                        color: \"#ffffff\",\r\n                        fontSize: 14,\r\n                        fontWeight: 600,\r\n                        flexShrink: 0,\r\n                    }}>\r\n                        Y\r\n                    </div>\r\n\r\n                    {/* Sender details */}\r\n                    <div style={{ flex: 1, minWidth: 0 }}>\r\n                        <div style={{ display: \"flex\", alignItems: \"center\", gap: 6, marginBottom: 2, flexWrap: \"wrap\" }}>\r\n                            <span style={{ fontSize: 13, fontWeight: 600, color: \"var(--text-primary)\" }}>\r\n                                Your Name\r\n                            </span>\r\n                            <span style={{ fontSize: 11, color: \"var(--text-muted)\" }}>\r\n                                &lt;you@example.com&gt;\r\n                            </span>\r\n                        </div>\r\n                        <div style={{ fontSize: 11, color: \"var(--text-muted)\", display: \"flex\", alignItems: \"center\", gap: 4 }}>\r\n                            to <span style={{ fontWeight: 500, color: \"var(--text-secondary)\" }}>John Doe</span>\r\n                            <span style={{ fontSize: 9, opacity: 0.5 }}>‚ñæ</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Timestamp & Actions */}\r\n                    <div style={{ display: \"flex\", alignItems: \"center\", gap: 6, flexShrink: 0 }}>\r\n                        <span style={{ fontSize: 11, color: \"var(--text-muted)\" }}>\r\n                            {new Date().toLocaleString(\"en-US\", { month: \"short\", day: \"numeric\" })}\r\n                        </span>\r\n                        <span style={{ cursor: \"pointer\", opacity: 0.4, fontSize: 12 }}>‚≠ê</span>\r\n                        <span style={{ cursor: \"pointer\", opacity: 0.4, fontSize: 12 }}>‚Ü©Ô∏è</span>\r\n                        <span style={{ cursor: \"pointer\", opacity: 0.4 }}>‚ãÆ</span>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Email Body */}\r\n                <div\r\n                    style={{\r\n                        flex: 1,\r\n                        background: \"var(--bg-primary)\",\r\n                        overflow: \"auto\",\r\n                        minHeight: 220,\r\n                    }}\r\n                >\r\n                    <iframe\r\n                        srcDoc={`<!DOCTYPE html><html><head><style>html,body{margin:0;padding:0;min-height:100%;background:#1a1a2e;color:#e8e8ed;}a{color:#a78bfa;}</style></head><body style=\"padding:16px;font-family:Arial,Helvetica,sans-serif;background:#1a1a2e;color:#e8e8ed;\">${getPreviewHtml()}</body></html>`}\r\n                        style={{\r\n                            width: \"100%\",\r\n                            height: \"100%\",\r\n                            border: \"none\",\r\n                            display: \"block\",\r\n                            minHeight: 220,\r\n                            background: \"#1a1a2e\",\r\n                        }}\r\n                        title=\"Email Preview\"\r\n                        sandbox=\"allow-same-origin\"\r\n                    />\r\n                </div>\r\n\r\n                {/* Reply Bar */}\r\n                <div style={{\r\n                    padding: \"10px 16px\",\r\n                    background: \"var(--bg-secondary)\",\r\n                    borderTop: \"1px solid var(--border-subtle)\",\r\n                    display: \"flex\",\r\n                    gap: 8,\r\n                }}>\r\n                    <div style={{\r\n                        flex: 1,\r\n                        padding: \"8px 14px\",\r\n                        background: \"var(--bg-tertiary)\",\r\n                        border: \"1px solid var(--border-subtle)\",\r\n                        borderRadius: 20,\r\n                        color: \"var(--text-muted)\",\r\n                        fontSize: 13,\r\n                        cursor: \"text\",\r\n                    }}>\r\n                        Click here to Reply\r\n                    </div>\r\n                    <button className=\"btn btn-ghost btn-sm\" style={{ borderRadius: 20, padding: \"8px 14px\", fontSize: 12 }}>\r\n                        Forward\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1690, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/swizz/Desktop/Emailer/emailer/src/app/templates/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useQuery, useMutation } from \"convex/react\";\r\nimport { api } from \"../../../convex/_generated/api\";\r\nimport { Id } from \"../../../convex/_generated/dataModel\";\r\nimport Navigation from \"@/components/Navigation\";\r\nimport { useToast } from \"@/components/Toast\";\r\nimport { useConfirm } from \"@/components/ConfirmModal\";\r\nimport EmailEditor from \"@/components/EmailEditor\";\r\n\r\nexport default function TemplatesPage() {\r\n    const templates = useQuery(api.templates.list);\r\n    const createTemplate = useMutation(api.templates.create);\r\n    const deleteTemplate = useMutation(api.templates.remove);\r\n    const toast = useToast();\r\n    const { confirm, ConfirmDialog } = useConfirm();\r\n\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [name, setName] = useState(\"\");\r\n    const [subject, setSubject] = useState(\"\");\r\n    const [htmlBody, setHtmlBody] = useState(\"\");\r\n    const [textBody, setTextBody] = useState(\"\");\r\n    const [footerEnabled, setFooterEnabled] = useState(true);\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n    const handleCreate = async () => {\r\n        if (!name.trim() || !subject.trim()) return;\r\n        setIsSubmitting(true);\r\n        try {\r\n            await createTemplate({\r\n                name: name.trim(),\r\n                subject: subject.trim(),\r\n                htmlBody,\r\n                textBody,\r\n                footerEnabled,\r\n            });\r\n            setShowModal(false);\r\n            resetForm();\r\n            toast.success(\"Template created successfully!\");\r\n        } catch (error) {\r\n            console.error(error);\r\n            toast.error(\"Failed to create template\");\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    const resetForm = () => {\r\n        setName(\"\");\r\n        setSubject(\"\");\r\n        setHtmlBody(\"\");\r\n        setTextBody(\"\");\r\n        setFooterEnabled(true);\r\n    };\r\n\r\n    const openTemplate = (template: { _id: Id<\"templates\">; name: string; subject: string; htmlBody: string; textBody: string; footerEnabled: boolean }) => {\r\n        setName(template.name);\r\n        setSubject(template.subject);\r\n        setHtmlBody(template.htmlBody);\r\n        setTextBody(template.textBody);\r\n        setFooterEnabled(template.footerEnabled);\r\n        setShowModal(true);\r\n    };\r\n\r\n    const handleDelete = async (id: Id<\"templates\">) => {\r\n        const confirmed = await confirm({\r\n            title: \"Delete Template?\",\r\n            message: \"This action cannot be undone. Any campaigns using this template will need to be updated.\",\r\n            variant: \"danger\",\r\n        });\r\n        if (confirmed) {\r\n            try {\r\n                await deleteTemplate({ id });\r\n                toast.success(\"Template deleted\");\r\n            } catch {\r\n                toast.error(\"Failed to delete template\");\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Navigation>\r\n            <div>\r\n                {/* Header */}\r\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"flex-start\", marginBottom: 32 }}>\r\n                    <div>\r\n                        <h1 className=\"page-title\">Templates</h1>\r\n                        <p className=\"page-subtitle\">Create and manage email templates with personalization</p>\r\n                    </div>\r\n                    <button className=\"btn btn-primary\" onClick={() => setShowModal(true)}>\r\n                        <span>+</span> New Template\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Templates Grid */}\r\n                {!templates ? (\r\n                    <div className=\"loading\">\r\n                        <div className=\"spinner\" />\r\n                    </div>\r\n                ) : templates.length === 0 ? (\r\n                    <div className=\"card\">\r\n                        <div className=\"empty-state\">\r\n                            <div className=\"empty-icon\">üìù</div>\r\n                            <h3 className=\"empty-title\">No templates yet</h3>\r\n                            <p className=\"empty-text\">Create your first email template to get started</p>\r\n                            <button className=\"btn btn-primary\" onClick={() => setShowModal(true)}>\r\n                                Create Template\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                ) : (\r\n                    <div style={{ display: \"grid\", gap: 20, gridTemplateColumns: \"repeat(auto-fill, minmax(350px, 1fr))\" }}>\r\n                        {templates.map((template: { _id: Id<\"templates\">; name: string; subject: string; htmlBody: string; textBody: string; footerEnabled: boolean }) => (\r\n                            <div\r\n                                key={template._id}\r\n                                className=\"card\"\r\n                                onClick={() => openTemplate(template)}\r\n                                style={{\r\n                                    display: \"flex\",\r\n                                    flexDirection: \"column\",\r\n                                    cursor: \"pointer\",\r\n                                    transition: \"all 0.2s ease\",\r\n                                }}\r\n                                onMouseOver={(e) => {\r\n                                    e.currentTarget.style.borderColor = \"var(--accent-primary)\";\r\n                                    e.currentTarget.style.transform = \"translateY(-2px)\";\r\n                                }}\r\n                                onMouseOut={(e) => {\r\n                                    e.currentTarget.style.borderColor = \"var(--border-subtle)\";\r\n                                    e.currentTarget.style.transform = \"translateY(0)\";\r\n                                }}\r\n                            >\r\n                                <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"flex-start\", marginBottom: 16 }}>\r\n                                    <div>\r\n                                        <h3 style={{ fontSize: 18, fontWeight: 600, marginBottom: 4 }}>{template.name}</h3>\r\n                                        <p style={{ fontSize: 14, color: \"var(--text-secondary)\" }}>{template.subject}</p>\r\n                                    </div>\r\n                                    <span className={`badge ${template.footerEnabled ? \"badge-success\" : \"badge-neutral\"}`}>\r\n                                        {template.footerEnabled ? \"Footer On\" : \"Footer Off\"}\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div\r\n                                    style={{\r\n                                        flex: 1,\r\n                                        background: \"var(--bg-tertiary)\",\r\n                                        borderRadius: \"var(--radius-md)\",\r\n                                        padding: 16,\r\n                                        fontSize: 13,\r\n                                        color: \"var(--text-secondary)\",\r\n                                        marginBottom: 16,\r\n                                        maxHeight: 120,\r\n                                        overflow: \"hidden\",\r\n                                        position: \"relative\",\r\n                                    }}\r\n                                >\r\n                                    {template.textBody || template.htmlBody?.replace(/<[^>]*>/g, \"\").slice(0, 200) || \"No content\"}\r\n                                    <div\r\n                                        style={{\r\n                                            position: \"absolute\",\r\n                                            bottom: 0,\r\n                                            left: 0,\r\n                                            right: 0,\r\n                                            height: 40,\r\n                                            background: \"linear-gradient(transparent, var(--bg-tertiary))\",\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div style={{ display: \"flex\", gap: 8 }}>\r\n                                    <button\r\n                                        className=\"btn btn-secondary btn-sm\"\r\n                                        style={{ flex: 1 }}\r\n                                        onClick={(e) => { e.stopPropagation(); openTemplate(template); }}\r\n                                    >\r\n                                        Edit\r\n                                    </button>\r\n                                    <button\r\n                                        className=\"btn btn-ghost btn-sm\"\r\n                                        onClick={(e) => { e.stopPropagation(); handleDelete(template._id); }}\r\n                                        style={{ color: \"var(--accent-danger)\" }}\r\n                                    >\r\n                                        Delete\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Full-Screen Template Editor */}\r\n                {showModal && (\r\n                    <div\r\n                        className=\"modal-overlay\"\r\n                        onClick={(e) => e.target === e.currentTarget && setShowModal(false)}\r\n                        style={{ padding: 0 }}\r\n                    >\r\n                        <div\r\n                            className=\"modal\"\r\n                            style={{\r\n                                width: \"100vw\",\r\n                                height: \"100vh\",\r\n                                maxWidth: \"100vw\",\r\n                                maxHeight: \"100vh\",\r\n                                margin: 0,\r\n                                borderRadius: 0,\r\n                                display: \"flex\",\r\n                                flexDirection: \"column\",\r\n                            }}\r\n                        >\r\n                            {/* Compact Header Bar */}\r\n                            <div style={{\r\n                                display: \"flex\",\r\n                                alignItems: \"center\",\r\n                                gap: 16,\r\n                                padding: \"12px 20px\",\r\n                                background: \"var(--bg-tertiary)\",\r\n                                borderBottom: \"1px solid var(--border-subtle)\",\r\n                                flexWrap: \"wrap\",\r\n                            }}>\r\n                                <h2 style={{ margin: 0, fontSize: 16, fontWeight: 600, whiteSpace: \"nowrap\" }}>\r\n                                    Create Template\r\n                                </h2>\r\n\r\n                                <div style={{ display: \"flex\", alignItems: \"center\", gap: 8, flex: 1, minWidth: 200 }}>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"form-input\"\r\n                                        placeholder=\"Template Name *\"\r\n                                        value={name}\r\n                                        onChange={(e) => setName(e.target.value)}\r\n                                        style={{ flex: 1, minWidth: 150 }}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div style={{ display: \"flex\", alignItems: \"center\", gap: 8, flex: 1, minWidth: 200 }}>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"form-input\"\r\n                                        placeholder=\"Subject Line *\"\r\n                                        value={subject}\r\n                                        onChange={(e) => setSubject(e.target.value)}\r\n                                        style={{ flex: 1, minWidth: 150 }}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div style={{ display: \"flex\", gap: 8 }}>\r\n                                    <button\r\n                                        className=\"btn btn-ghost btn-sm\"\r\n                                        onClick={() => setShowModal(false)}\r\n                                        style={{ padding: \"8px 16px\" }}\r\n                                    >\r\n                                        Cancel\r\n                                    </button>\r\n                                    <button\r\n                                        className=\"btn btn-primary btn-sm\"\r\n                                        onClick={handleCreate}\r\n                                        disabled={!name.trim() || !subject.trim() || isSubmitting}\r\n                                        style={{ padding: \"8px 20px\" }}\r\n                                    >\r\n                                        {isSubmitting ? \"Creating...\" : \"Create Template\"}\r\n                                    </button>\r\n                                </div>\r\n\r\n                                <button\r\n                                    className=\"modal-close\"\r\n                                    onClick={() => setShowModal(false)}\r\n                                    style={{ marginLeft: \"auto\" }}\r\n                                >\r\n                                    √ó\r\n                                </button>\r\n                            </div>\r\n\r\n                            {/* Email Editor - Full Remaining Space */}\r\n                            <div style={{ flex: 1, padding: 16, overflow: \"hidden\" }}>\r\n                                <EmailEditor\r\n                                    htmlBody={htmlBody}\r\n                                    onHtmlChange={setHtmlBody}\r\n                                    subject={subject}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n            <ConfirmDialog />\r\n        </Navigation>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}