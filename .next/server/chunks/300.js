exports.id=300,exports.ids=[300],exports.modules={91459:(e,t,l)=>{Promise.resolve().then(l.t.bind(l,13219,23)),Promise.resolve().then(l.t.bind(l,34863,23)),Promise.resolve().then(l.t.bind(l,25155,23)),Promise.resolve().then(l.t.bind(l,9350,23)),Promise.resolve().then(l.t.bind(l,96313,23)),Promise.resolve().then(l.t.bind(l,48530,23)),Promise.resolve().then(l.t.bind(l,88921,23))},5531:(e,t,l)=>{Promise.resolve().then(l.t.bind(l,66959,23)),Promise.resolve().then(l.t.bind(l,33875,23)),Promise.resolve().then(l.t.bind(l,88903,23)),Promise.resolve().then(l.t.bind(l,84178,23)),Promise.resolve().then(l.t.bind(l,86013,23)),Promise.resolve().then(l.t.bind(l,87190,23)),Promise.resolve().then(l.t.bind(l,61365,23))},21619:(e,t,l)=>{Promise.resolve().then(l.bind(l,57187))},16043:(e,t,l)=>{Promise.resolve().then(l.bind(l,27319))},41692:(e,t,l)=>{"use strict";l.d(t,{FH:()=>a});var s=l(24817);let a=s.dp;(0,s.Op)()},27319:(e,t,l)=>{"use strict";l.d(t,{ConvexClientProvider:()=>n});var s=l(45512),a=l(46464),r=l(56127);let i=new a.eH("https://avid-cuttlefish-641.convex.cloud");function n({children:e}){return(0,s.jsx)(r.hG,{client:i,children:e})}},81280:(e,t,l)=>{"use strict";l.d(t,{j:()=>x,q:()=>c});var s=l(45512),a=l(46464),r=l(56127),i=l(79334),n=l(58009),o=l(26008);function c({children:e}){let{isAuthenticated:t,isLoading:l}=(0,a.Z)();return((0,i.useRouter)(),l)?(0,s.jsx)("div",{className:"min-h-screen bg-[#0a0a0f] text-white flex items-center justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)("div",{className:"animate-spin w-8 h-8 border-2 border-indigo-500 border-t-transparent rounded-full"}),(0,s.jsx)("p",{className:"text-white/50",children:"Loading..."})]})}):t?(0,s.jsx)(s.Fragment,{children:e}):null}let d=[{href:"/dashboard",label:"Dashboard",icon:"\uD83C\uDFE0",mobileIcon:"\uD83C\uDFE0"},{href:"/campaigns",label:"Campaigns",icon:"\uD83D\uDCE7",mobileIcon:"\uD83D\uDCE7"},{href:"/contacts",label:"Contacts",icon:"\uD83D\uDC65",mobileIcon:"\uD83D\uDC65"},{href:"/pipeline",label:"Pipeline",icon:"\uD83D\uDCCA",mobileIcon:"\uD83D\uDCCA"},{href:"/sequences",label:"Sequences",icon:"\uD83D\uDD04",mobileIcon:"\uD83D\uDD04"},{href:"/insights",label:"Insights",icon:"\uD83D\uDCC8",mobileIcon:"\uD83D\uDCC8"},{href:"/settings",label:"Settings",icon:"⚙️",mobileIcon:"⚙️"}],m=d.slice(0,5);function x(){let{signOut:e}=(0,r.BG)(),t=(0,i.usePathname)(),[l,a]=(0,n.useState)(!1),c=async()=>{await e()},x=e=>"/dashboard"===e?"/"===t||"/dashboard"===t:t.startsWith(e);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("header",{className:"border-b border-white/10 bg-[#0a0a0f]/95 sticky top-0 z-50 backdrop-blur-lg hidden md:block",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-3 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-8",children:[(0,s.jsx)(o.default,{href:"/dashboard",className:"text-2xl font-bold bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 bg-clip-text text-transparent hover:opacity-80 transition-opacity",children:"Emailer"}),(0,s.jsx)("nav",{className:"flex items-center gap-1",children:d.map(e=>(0,s.jsxs)(o.default,{href:e.href,className:`px-3 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-1.5 ${x(e.href)?"bg-white/10 text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[(0,s.jsx)("span",{className:"text-sm",children:e.icon}),(0,s.jsx)("span",{className:"hidden lg:inline",children:e.label})]},e.href))})]}),(0,s.jsx)("button",{onClick:c,className:"px-4 py-2 text-sm text-white/60 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:"Sign Out"})]})}),(0,s.jsxs)("header",{className:"border-b border-white/10 bg-[#0a0a0f]/95 sticky top-0 z-50 backdrop-blur-lg md:hidden",children:[(0,s.jsxs)("div",{className:"px-4 py-3 flex items-center justify-between",children:[(0,s.jsx)(o.default,{href:"/dashboard",className:"text-xl font-bold bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Emailer"}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("button",{onClick:()=>a(!l),className:"p-2 text-white/60 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:l?"✕":"☰"})})]}),l&&(0,s.jsxs)("div",{className:"absolute top-full left-0 right-0 bg-[#12121f] border-b border-white/10 p-4 space-y-2",children:[d.map(e=>(0,s.jsxs)(o.default,{href:e.href,onClick:()=>a(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${x(e.href)?"bg-indigo-500/20 text-indigo-400":"text-white/60 hover:bg-white/5 hover:text-white"}`,children:[(0,s.jsx)("span",{className:"text-xl",children:e.icon}),(0,s.jsx)("span",{className:"font-medium",children:e.label})]},e.href)),(0,s.jsx)("hr",{className:"border-white/10 my-3"}),(0,s.jsxs)("button",{onClick:c,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-red-400 hover:bg-red-500/10 transition-colors",children:[(0,s.jsx)("span",{className:"text-xl",children:"\uD83D\uDEAA"}),(0,s.jsx)("span",{className:"font-medium",children:"Sign Out"})]})]})]}),(0,s.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-[#0a0a0f]/98 backdrop-blur-lg border-t border-white/10 z-50 md:hidden pb-safe",children:(0,s.jsx)("div",{className:"flex items-center justify-around py-2 px-1",children:m.map(e=>(0,s.jsxs)(o.default,{href:e.href,className:`flex flex-col items-center gap-0.5 py-1.5 px-2 rounded-xl transition-all min-w-[56px] ${x(e.href)?"text-indigo-400 bg-indigo-500/10":"text-white/40"}`,children:[(0,s.jsx)("span",{className:"text-lg",children:e.mobileIcon}),(0,s.jsx)("span",{className:"text-[10px] font-medium",children:e.label})]},e.href))})})]})}},70046:(e,t,l)=>{"use strict";l.d(t,{A:()=>c});var s=l(45512),a=l(58009),r=l(46464),i=l(41692);let n=[{value:"answered",label:"✅ Answered",color:"#22c55e"},{value:"voicemail",label:"\uD83D\uDCDE Voicemail",color:"#f59e0b"},{value:"no_answer",label:"❌ No Answer",color:"#ef4444"},{value:"busy",label:"\uD83D\uDD34 Busy",color:"#f97316"},{value:"wrong_number",label:"⚠️ Wrong Number",color:"#6b7280"},{value:"callback_requested",label:"\uD83D\uDD04 Callback Requested",color:"#3b82f6"}],o=[{value:"new",label:"New",color:"#6b7280"},{value:"contacted",label:"Contacted",color:"#3b82f6"},{value:"follow_up",label:"Follow Up",color:"#f59e0b"},{value:"qualified",label:"Qualified",color:"#8b5cf6"},{value:"closed_won",label:"Closed Won",color:"#22c55e"},{value:"closed_lost",label:"Closed Lost",color:"#ef4444"}];function c({contactId:e,onClose:t}){let l=(0,r.IT)(i.FH.contacts.get,{id:e}),c=(0,r.IT)(i.FH.activities.getContactActivities,{contactId:e,limit:50}),d=(0,r.n_)(i.FH.activities.logCall),m=(0,r.n_)(i.FH.activities.addNote),x=(0,r.n_)(i.FH.activities.updateSalesStage),h=(0,r.n_)(i.FH.activities.scheduleFollowUp),[b,u]=(0,a.useState)(!1),[p,f]=(0,a.useState)("answered"),[g,v]=(0,a.useState)(""),[w,j]=(0,a.useState)(""),[N,y]=(0,a.useState)(!1),[C,k]=(0,a.useState)(!1),[S,D]=(0,a.useState)(""),[P,A]=(0,a.useState)(!1),[_,F]=(0,a.useState)(!1),[E,$]=(0,a.useState)(""),[I,z]=(0,a.useState)(""),[U,L]=(0,a.useState)(!1);if(!l)return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"bg-[#12121f] rounded-2xl p-8",children:(0,s.jsx)("div",{className:"animate-spin w-8 h-8 border-2 border-indigo-500 border-t-transparent rounded-full"})})});let H=async()=>{y(!0);try{await d({contactId:e,outcome:p,notes:g||void 0,followUpAt:w?new Date(w).getTime():void 0}),u(!1),v(""),j("")}catch(e){console.error(e)}finally{y(!1)}},O=async()=>{if(S.trim()){A(!0);try{await m({contactId:e,notes:S.trim()}),k(!1),D("")}catch(e){console.error(e)}finally{A(!1)}}},T=async()=>{if(E){L(!0);try{await h({contactId:e,followUpAt:new Date(E).getTime(),notes:I||void 0}),F(!1),$(""),z("")}catch(e){console.error(e)}finally{L(!1)}}},q=async t=>{await x({contactId:e,stage:t})},M=e=>{let t=new Date(e),l=new Date().getTime()-e;return l<6e4?"Just now":l<36e5?`${Math.floor(l/6e4)}m ago`:l<864e5?`${Math.floor(l/36e5)}h ago`:l<6048e5?`${Math.floor(l/864e5)}d ago`:t.toLocaleDateString()},R=e=>{switch(e){case"email_sent":return"\uD83D\uDCE7";case"email_opened":return"\uD83D\uDC41️";case"email_clicked":return"\uD83D\uDD17";case"call_made":case"voicemail_left":return"\uD83D\uDCDE";case"note_added":return"\uD83D\uDCDD";case"status_changed":return"\uD83D\uDD04";case"follow_up_scheduled":return"⏰";default:return"•"}};return o.find(e=>e.value===(l.salesStage||"new"))||o[0],(0,s.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:(0,s.jsxs)("div",{className:"bg-[#12121f] rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col border border-white/10",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-white/10 flex-shrink-0",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-xl font-bold",children:(l.name||l.email).charAt(0).toUpperCase()}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:l.name||"Unknown"}),(0,s.jsx)("p",{className:"text-white/60",children:l.email}),l.company&&(0,s.jsx)("p",{className:"text-white/40 text-sm",children:l.company})]})]}),(0,s.jsx)("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:"✕"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mt-4",children:[l.phone&&(0,s.jsxs)("a",{href:`tel:${l.phone}`,onClick:()=>u(!0),className:"px-4 py-2 bg-green-500/20 border border-green-500/30 rounded-lg text-green-400 hover:bg-green-500/30 transition-colors flex items-center gap-2",children:["\uD83D\uDCDE Call ",l.phone]}),(0,s.jsx)("a",{href:`mailto:${l.email}`,className:"px-4 py-2 bg-blue-500/20 border border-blue-500/30 rounded-lg text-blue-400 hover:bg-blue-500/30 transition-colors flex items-center gap-2",children:"\uD83D\uDCE7 Email"}),(0,s.jsx)("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg hover:bg-white/20 transition-colors flex items-center gap-2",children:"\uD83D\uDCDD Add Note"}),(0,s.jsx)("button",{onClick:()=>F(!0),className:"px-4 py-2 bg-amber-500/20 border border-amber-500/30 rounded-lg text-amber-400 hover:bg-amber-500/30 transition-colors flex items-center gap-2",children:"⏰ Follow-up"})]})]}),(0,s.jsxs)("div",{className:"p-4 border-b border-white/10 flex-shrink-0 bg-white/[0.02]",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:l.emailCount||0}),(0,s.jsx)("div",{className:"text-xs text-white/50",children:"Emails Sent"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:l.callCount||0}),(0,s.jsx)("div",{className:"text-xs text-white/50",children:"Calls Made"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-sm font-medium",children:l.lastEmailAt?M(l.lastEmailAt):"Never"}),(0,s.jsx)("div",{className:"text-xs text-white/50",children:"Last Email"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-sm font-medium",children:l.lastCallAt?M(l.lastCallAt):"Never"}),(0,s.jsx)("div",{className:"text-xs text-white/50",children:"Last Call"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsx)("span",{className:"text-sm text-white/50",children:"Stage:"}),o.map(e=>(0,s.jsx)("button",{onClick:()=>q(e.value),className:`px-3 py-1 rounded-full text-xs font-medium transition-all ${l.salesStage!==e.value&&(l.salesStage||"new"!==e.value)?"opacity-50 hover:opacity-100":"ring-2 ring-offset-2 ring-offset-[#12121f]"}`,style:{backgroundColor:`${e.color}20`,color:e.color},children:e.label},e.value))]}),l.nextFollowUpAt&&(0,s.jsxs)("div",{className:"mt-3 px-3 py-2 bg-amber-500/10 border border-amber-500/20 rounded-lg text-amber-400 text-sm flex items-center gap-2",children:["⏰ Follow-up scheduled: ",new Date(l.nextFollowUpAt).toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-white/50 mb-4",children:"Activity Timeline"}),c&&c.length>0?(0,s.jsx)("div",{className:"space-y-3",children:c.map(e=>(0,s.jsxs)("div",{className:"flex gap-3 text-sm",children:[(0,s.jsx)("div",{className:"text-lg",children:R(e.type)}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsx)("span",{className:"font-medium capitalize",children:e.type.replace(/_/g," ")}),e.callOutcome&&(0,s.jsx)("span",{className:"px-2 py-0.5 rounded text-xs",style:{backgroundColor:`${n.find(t=>t.value===e.callOutcome)?.color}20`,color:n.find(t=>t.value===e.callOutcome)?.color},children:e.callOutcome.replace(/_/g," ")}),(0,s.jsx)("span",{className:"text-white/40",children:M(e.createdAt)})]}),e.notes&&(0,s.jsx)("p",{className:"text-white/60 mt-1",children:e.notes}),e.followUpAt&&(0,s.jsxs)("p",{className:"text-amber-400 text-xs mt-1",children:["Follow-up: ",new Date(e.followUpAt).toLocaleString()]})]})]},e._id))}):(0,s.jsxs)("div",{className:"text-center py-8 text-white/40",children:[(0,s.jsx)("p",{className:"text-4xl mb-2",children:"\uD83D\uDCCB"}),(0,s.jsx)("p",{children:"No activity yet"}),(0,s.jsx)("p",{className:"text-sm",children:"Call or email this contact to start tracking"})]})]}),b&&(0,s.jsx)("div",{className:"absolute inset-0 bg-black/90 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-[#1a1a2e] rounded-xl p-6 w-full max-w-md border border-white/10",children:[(0,s.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Log Call Outcome"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2 mb-4",children:n.map(e=>(0,s.jsx)("button",{onClick:()=>f(e.value),className:`p-3 rounded-lg text-sm font-medium transition-all ${p===e.value?"ring-2 ring-offset-2 ring-offset-[#1a1a2e]":"opacity-60 hover:opacity-100"}`,style:{backgroundColor:`${e.color}20`,color:e.color},children:e.label},e.value))}),(0,s.jsx)("textarea",{value:g,onChange:e=>v(e.target.value),placeholder:"Call notes (optional)",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg mb-4 resize-none h-24"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"text-sm text-white/50 mb-1 block",children:"Schedule follow-up"}),(0,s.jsx)("input",{type:"datetime-local",value:w,onChange:e=>j(e.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg"})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-2 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:H,disabled:N,className:"flex-1 px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg font-medium disabled:opacity-50",children:N?"Saving...":"Save Call Log"})]})]})}),C&&(0,s.jsx)("div",{className:"absolute inset-0 bg-black/90 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-[#1a1a2e] rounded-xl p-6 w-full max-w-md border border-white/10",children:[(0,s.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Add Note"}),(0,s.jsx)("textarea",{value:S,onChange:e=>D(e.target.value),placeholder:"Enter your note...",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg mb-4 resize-none h-32",autoFocus:!0}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>k(!1),className:"flex-1 px-4 py-2 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:O,disabled:P||!S.trim(),className:"flex-1 px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg font-medium disabled:opacity-50",children:P?"Saving...":"Save Note"})]})]})}),_&&(0,s.jsx)("div",{className:"absolute inset-0 bg-black/90 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-[#1a1a2e] rounded-xl p-6 w-full max-w-md border border-white/10",children:[(0,s.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Schedule Follow-up"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"text-sm text-white/50 mb-1 block",children:"Date & Time"}),(0,s.jsx)("input",{type:"datetime-local",value:E,onChange:e=>$(e.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg"})]}),(0,s.jsx)("textarea",{value:I,onChange:e=>z(e.target.value),placeholder:"Reminder notes (optional)",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg mb-4 resize-none h-24"}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>F(!1),className:"flex-1 px-4 py-2 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:T,disabled:U||!E,className:"flex-1 px-4 py-2 bg-gradient-to-r from-amber-500 to-orange-500 rounded-lg font-medium disabled:opacity-50",children:U?"Scheduling...":"Schedule"})]})]})})]})})}},57187:(e,t,l)=>{"use strict";l.d(t,{ConvexClientProvider:()=>s});let s=(0,l(46760).registerClientReference)(function(){throw Error("Attempted to call ConvexClientProvider() from the server but ConvexClientProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\swizz\\Desktop\\Emailer\\emailer\\src\\app\\ConvexClientProvider.tsx","ConvexClientProvider")},71354:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>i,metadata:()=>r});var s=l(62740),a=l(57187);l(61135);let r={title:"Emailer - Email Campaign Platform",description:"Professional email campaign management platform"};function i({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:"antialiased",children:(0,s.jsx)(a.ConvexClientProvider,{children:e})})})}},61135:()=>{}};