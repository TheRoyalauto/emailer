(()=>{var e={};e.id=102,e.ids=[102],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},8086:e=>{"use strict";e.exports=require("module")},33873:e=>{"use strict";e.exports=require("path")},99701:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,pages:()=>d,routeModule:()=>h,tree:()=>c});var a=s(70260),i=s(28203),r=s(25155),l=s.n(r),n=s(67292),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let c=["",{children:["contacts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,46953)),"C:\\Users\\swizz\\Desktop\\Emailer\\emailer\\src\\app\\contacts\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,71354)),"C:\\Users\\swizz\\Desktop\\Emailer\\emailer\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\swizz\\Desktop\\Emailer\\emailer\\src\\app\\contacts\\page.tsx"],x={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/contacts/page",pathname:"/contacts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},52347:(e,t,s)=>{Promise.resolve().then(s.bind(s,46953))},5491:(e,t,s)=>{Promise.resolve().then(s.bind(s,87557))},87557:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(45512),i=s(46464),r=s(19311),l=s(58009),n=s(81280),o=s(70046);let c=["#6366f1","#8b5cf6","#ec4899","#ef4444","#f97316","#eab308","#22c55e","#06b6d4","#3b82f6"];function d(){let e=(0,i.IT)(r.FH.contacts.list,{}),t=(0,i.IT)(r.FH.batches.list),s=(0,i.n_)(r.FH.contacts.bulkCreate),d=(0,i.n_)(r.FH.contacts.create),x=(0,i.n_)(r.FH.batches.create),h=(0,i.n_)(r.FH.contacts.remove),m=(0,i.n_)(r.FH.batches.remove),p=(0,i.n_)(r.FH.batches.createFromSelection),[u,b]=(0,l.useState)(!1),[g,f]=(0,l.useState)(""),[j,w]=(0,l.useState)(""),[N,v]=(0,l.useState)(!1),[y,C]=(0,l.useState)(""),[k,_]=(0,l.useState)(c[0]),[D,S]=(0,l.useState)(!1),[z,A]=(0,l.useState)(null),[I,P]=(0,l.useState)(!1),[F,B]=(0,l.useState)(""),[E,$]=(0,l.useState)(""),[Z,q]=(0,l.useState)(""),[U,H]=(0,l.useState)(!1),[M,G]=(0,l.useState)("batches"),[L,R]=(0,l.useState)(null),[T,J]=(0,l.useState)(!1),[K,O]=(0,l.useState)(""),[V,W]=(0,l.useState)(c[0]),[Q,X]=(0,l.useState)(!1),[Y,ee]=(0,l.useState)(null),[et,es]=(0,l.useState)(new Set),[ea,ei]=(0,l.useState)(!1),[er,el]=(0,l.useState)(""),[en,eo]=(0,l.useState)(c[0]),[ec,ed]=(0,l.useState)(!1),ex=t?.filter(e=>!e.parentBatchId)||[],eh=t?.filter(e=>e.parentBatchId===L)||[],em=t?.find(e=>e._id===L),ep=function(e){let t=[],s=new Set;for(let a of e.split(/[\n,;]+/)){let e=a.trim();if(!e)continue;let i=e.match(/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/),r=e.match(/(\+?1?[-.\s]?\(?[0-9]{3}\)?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4})/);if(i){let a=i[1].toLowerCase();if(!s.has(a)){s.add(a);let l={email:a};r&&(l.phone=r[1].replace(/[-.\s()]/g,""));let n=e.substring(0,e.indexOf(i[1])).trim();n&&!n.match(/^[\d\s+()-]+$/)&&(l.name=n.replace(/[<>:,;]+$/,"").trim()),t.push(l)}}else if(r){let e=r[1].replace(/[-.\s()]/g,"");s.has(e)||(s.add(e),t.push({email:`${e}@sms.placeholder`,phone:e}))}}return t}(g),eu=e?.filter(e=>"all"===M||("none"===M?!e.batchId:"batches"!==M&&e.batchId===M)),eb=async()=>{if(0!==ep.length){S(!0),A(null);try{let e=j||void 0;N&&y.trim()&&(e=await x({name:y.trim(),color:k}));let t=await s({contacts:ep.map(e=>({email:e.email,name:e.name,phone:e.phone})),batchId:e});A(t),f(""),C(""),v(!1)}catch(e){console.error("Import failed:",e)}finally{S(!1)}}},eg=async()=>{if(F.trim()){H(!0);try{await d({email:F.trim().toLowerCase(),name:E.trim()||void 0,phone:Z.trim()||void 0}),B(""),$(""),q(""),P(!1)}catch(e){console.error("Failed to add contact:",e),alert("Failed to add contact. Email may already exist.")}finally{H(!1)}}},ef=e=>{if(!e)return null;let s=t?.find(t=>t._id===e);return s?.color},ej=e=>{if(!e)return null;let s=t?.find(t=>t._id===e);return s?.name},[ew,eN]=(0,l.useState)(null),ev=(e,t,s)=>{if(s.shiftKey&&null!==ew&&eu){let e=Math.min(ew,t),s=Math.max(ew,t),a=eu.slice(e,s+1).map(e=>e._id);es(e=>{let t=new Set(e);return a.forEach(e=>t.add(e)),t})}else es(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s}),eN(t)},ey=()=>{eu&&es(new Set(eu.map(e=>e._id)))},eC=()=>{es(new Set),eN(null)},ek=async()=>{if(0!==et.size&&er.trim()){ed(!0);try{await p({name:er.trim(),color:en,contactIds:Array.from(et),parentBatchId:L}),ei(!1),el(""),eo(c[0]),es(new Set),L||G("batches")}catch(e){console.error("Failed to create batch:",e),alert("Failed to create batch from selection")}finally{ed(!1)}}},e_=async()=>{if(L&&K.trim()){X(!0);try{await x({name:K.trim(),color:V,parentBatchId:L}),J(!1),O(""),W(c[0])}catch(e){console.error("Failed to create sub-batch:",e),alert("Failed to create sub-batch")}finally{X(!1)}}};return(0,a.jsxs)("div",{className:"min-h-screen bg-[#0a0a0f] text-white pb-20 md:pb-0",children:[(0,a.jsx)(n.j,{}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Contacts"}),(0,a.jsxs)("p",{className:"text-white/50 mt-1",children:[e?.length||0," total contacts in your master list"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("button",{onClick:()=>P(!0),className:"px-4 py-2.5 bg-white/10 border border-white/20 rounded-lg font-medium hover:bg-white/20 transition-colors flex items-center gap-2",children:[(0,a.jsx)("span",{children:"+"})," Add Contact"]}),(0,a.jsxs)("button",{onClick:()=>b(!0),className:"px-5 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg font-medium hover:opacity-90 transition-opacity flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-lg",children:"\uD83D\uDCE5"})," Import Batch"]})]})]}),"batches"!==M&&(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsx)("button",{onClick:()=>G("batches"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors flex items-center gap-2",children:"← Back to Batches"}),(0,a.jsx)("div",{className:"h-6 w-px bg-white/20"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:["all"!==M&&"none"!==M&&ef(M)&&(0,a.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:ef(M)||"#6366f1"}}),(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"all"===M?"All Contacts":"none"===M?"Unbatched Contacts":ej(M)}),(0,a.jsxs)("span",{className:"text-white/50",children:["(",eu?.length||0," contacts)"]})]})]}),"batches"===M&&(0,a.jsxs)("div",{children:[L&&(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("button",{onClick:()=>R(null),className:"p-2 hover:bg-white/10 rounded-lg transition-colors flex items-center gap-2 text-white/60 hover:text-white",children:"← Back to All Batches"}),(0,a.jsx)("div",{className:"h-6 w-px bg-white/20"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded flex items-center justify-center text-white font-bold text-xs",style:{backgroundColor:em?.color||"#6366f1"},children:em?.name.charAt(0).toUpperCase()}),(0,a.jsx)("h2",{className:"text-xl font-semibold",children:em?.name}),(0,a.jsxs)("span",{className:"text-white/50 text-sm",children:["(",eh.length," zones)"]})]}),(0,a.jsx)("button",{onClick:()=>J(!0),className:"ml-auto px-3 py-1.5 bg-white/10 border border-white/20 rounded-lg text-sm hover:bg-white/20 transition-colors",children:"+ Add Zone"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[!L&&(0,a.jsxs)("button",{onClick:()=>G("all"),className:"p-5 rounded-xl border text-left transition-all bg-gradient-to-br from-indigo-500/20 to-purple-500/10 border-indigo-500/30 hover:border-indigo-500/50 hover:bg-indigo-500/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-lg",children:"\uD83D\uDC65"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-semibold truncate",children:"All Contacts"}),(0,a.jsx)("p",{className:"text-xs text-white/50",children:"Master list"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-2xl font-bold",children:e?.length||0}),(0,a.jsx)("span",{className:"text-xs text-white/40",children:"total"})]})]}),!L&&(0,a.jsxs)("button",{onClick:()=>G("none"),className:"p-5 rounded-xl border text-left transition-all bg-gradient-to-br from-white/5 to-white/[0.02] border-white/10 hover:border-white/20 hover:bg-white/5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-zinc-700 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-lg",children:"\uD83D\uDCCB"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-semibold truncate",children:"Unbatched"}),(0,a.jsx)("p",{className:"text-xs text-white/50",children:"Not in any batch"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-2xl font-bold",children:e?.filter(e=>!e.batchId).length||0}),(0,a.jsx)("span",{className:"text-xs text-white/40",children:"contacts"})]})]}),(L?eh:ex).map(e=>{let s=t?.filter(t=>t.parentBatchId===e._id).length||0,i=s>0;return(0,a.jsxs)("div",{onClick:()=>G(e._id),className:"p-5 rounded-xl border text-left transition-all group bg-gradient-to-br from-white/5 to-white/[0.02] border-white/10 hover:border-white/20 hover:bg-white/5 cursor-pointer",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-white font-bold text-sm",style:{backgroundColor:e.color||"#6366f1"},children:e.name.charAt(0).toUpperCase()}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-semibold truncate",children:e.name}),e.description&&(0,a.jsx)("p",{className:"text-xs text-white/40 truncate",children:e.description}),i&&(0,a.jsxs)("p",{className:"text-xs text-indigo-400",children:[s," zones inside"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[i&&(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),R(e._id)},className:"opacity-0 group-hover:opacity-100 p-1.5 hover:bg-white/10 rounded-lg transition-all text-white/60",title:"View zones",children:"\uD83D\uDCC2"}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),confirm(`Delete batch "${e.name}"? Contacts will be kept.`)&&m({id:e._id})},className:"opacity-0 group-hover:opacity-100 p-1.5 hover:bg-red-500/20 rounded-lg transition-all text-red-400",children:"\uD83D\uDDD1️"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-2xl font-bold",children:e.contactCount}),(0,a.jsx)("span",{className:"text-xs text-white/40",children:"contacts"})]})]},e._id)}),!L&&0===ex.length&&e?.filter(e=>!e.batchId).length===0&&(0,a.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-indigo-500/20 to-purple-500/20 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCE6"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No batches yet"}),(0,a.jsx)("p",{className:"text-white/50 mb-4",children:"Import contacts to create your first batch."}),(0,a.jsx)("button",{onClick:()=>b(!0),className:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg font-medium hover:opacity-90 transition-opacity",children:"Import Contacts"})]}),L&&0===eh.length&&(0,a.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-indigo-500/20 to-purple-500/20 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCC1"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No zones yet"}),(0,a.jsxs)("p",{className:"text-white/50 mb-4",children:["Add zones to organize contacts within ",em?.name,"."]}),(0,a.jsx)("button",{onClick:()=>J(!0),className:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg font-medium hover:opacity-90 transition-opacity",children:"+ Add Zone"})]})]})]}),"batches"!==M&&(0,a.jsx)(a.Fragment,{children:void 0===e?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsx)("div",{className:"animate-spin w-8 h-8 border-2 border-indigo-500 border-t-transparent rounded-full"})}):eu?.length===0?(0,a.jsxs)("div",{className:"text-center py-20",children:[(0,a.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-indigo-500/20 to-purple-500/20 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-4xl",children:"\uD83D\uDC65"})}),(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"No contacts in this batch"}),(0,a.jsx)("p",{className:"text-white/50 mb-6",children:"Import contacts to add them to this batch."}),(0,a.jsx)("button",{onClick:()=>b(!0),className:"px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg font-medium hover:opacity-90 transition-opacity",children:"Import Contacts"})]}):(0,a.jsxs)(a.Fragment,{children:[(et.size>0||eu&&eu.length>0)&&(0,a.jsxs)("div",{className:"mb-4 flex items-center justify-between bg-white/5 border border-white/10 rounded-xl px-4 py-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:et.size===eu?.length?eC:ey,className:"text-sm text-white/60 hover:text-white transition-colors",children:et.size===eu?.length?"Deselect All":"Select All"}),et.size>0&&(0,a.jsxs)("span",{className:"text-sm text-indigo-400",children:[et.size," selected"]})]}),et.size>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>ei(!0),className:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg font-medium text-sm hover:opacity-90 transition-opacity",children:"Create Batch from Selection"}),(0,a.jsx)("button",{onClick:eC,className:"px-3 py-2 text-sm text-white/60 hover:text-white transition-colors",children:"Clear"})]})]}),(0,a.jsx)("div",{className:"overflow-hidden rounded-xl border border-white/10",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-white/5",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left w-10",children:(0,a.jsx)("input",{type:"checkbox",checked:(eu?.length??0)>0&&et.size===(eu?.length??0),onChange:()=>et.size===(eu?.length??0)?eC():ey(),className:"w-4 h-4 rounded bg-white/10 border-white/20 text-indigo-500 focus:ring-indigo-500 focus:ring-offset-0 cursor-pointer"})}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/50 uppercase",children:"Email"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/50 uppercase",children:"Name"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/50 uppercase",children:"Phone"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/50 uppercase",children:"Batch"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/50 uppercase",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-white/50 uppercase",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-white/5",children:eu?.map((e,t)=>a.jsxs("tr",{className:`hover:bg-white/5 transition-colors cursor-pointer ${et.has(e._id)?"bg-indigo-500/10":""}`,onClick:s=>ev(e._id,t,s),children:[a.jsx("td",{className:"px-4 py-3",onClick:e=>e.stopPropagation(),children:a.jsx("input",{type:"checkbox",checked:et.has(e._id),onChange:s=>ev(e._id,t,s),className:"w-4 h-4 rounded bg-white/10 border-white/20 text-indigo-500 focus:ring-indigo-500 focus:ring-offset-0 cursor-pointer"})}),a.jsx("td",{className:"px-4 py-3 text-sm",children:e.email}),a.jsx("td",{className:"px-4 py-3 text-sm text-white/70",children:e.name||"—"}),a.jsx("td",{className:"px-4 py-3 text-sm text-white/70",children:e.phone?a.jsxs("a",{href:`tel:${e.phone}`,onClick:e=>e.stopPropagation(),className:"text-green-400 hover:text-green-300 hover:underline flex items-center gap-1",children:["\uD83D\uDCDE ",e.phone]}):"—"}),a.jsx("td",{className:"px-4 py-3",children:e.batchId?a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:`${ef(e.batchId)}20`,color:ef(e.batchId)||"#6366f1"},children:[a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:ef(e.batchId)||"#6366f1"}}),ej(e.batchId)]}):a.jsx("span",{className:"text-white/30 text-xs",children:"—"})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${"active"===e.status?"bg-green-500/20 text-green-400":"unsubscribed"===e.status?"bg-orange-500/20 text-orange-400":"bg-red-500/20 text-red-400"}`,children:e.status})}),a.jsx("td",{className:"px-4 py-3 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:t=>{t.stopPropagation(),ee(e._id)},className:"px-2.5 py-1 bg-indigo-500/20 text-indigo-400 hover:bg-indigo-500/30 rounded text-xs transition-colors",children:"View"}),a.jsx("button",{onClick:t=>{t.stopPropagation(),h({id:e._id})},className:"text-red-400/60 hover:text-red-400 text-xs",children:"Delete"})]})})]},e._id))})]})})]})})]}),u&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-[#12121f] rounded-2xl border border-white/10 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Import Contacts"}),(0,a.jsx)("button",{onClick:()=>{b(!1),f(""),A(null)},className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:"✕"})]}),(0,a.jsx)("p",{className:"text-white/50 text-sm mt-1",children:"Paste emails, phone numbers, or contact lists. We'll auto-parse them."})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Paste your contacts (emails, phones, names)"}),(0,a.jsx)("textarea",{value:g,onChange:e=>f(e.target.value),placeholder:"john@example.com Jane Doe <jane@example.com> 555-123-4567 mike@company.com, bob@company.com sales@business.com; marketing@business.com",className:"w-full h-40 px-4 py-3 bg-black/40 border border-white/10 rounded-lg focus:outline-none focus:border-indigo-500 font-mono text-sm resize-none"})]}),ep.length>0&&(0,a.jsxs)("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"text-green-400",children:"✓"}),(0,a.jsxs)("span",{className:"font-medium text-green-400",children:[ep.length," contacts detected"]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 max-h-24 overflow-y-auto",children:[ep.slice(0,20).map((e,t)=>(0,a.jsx)("span",{className:"px-2 py-1 bg-white/5 rounded text-xs text-white/70",children:e.email},t)),ep.length>20&&(0,a.jsxs)("span",{className:"px-2 py-1 text-xs text-white/50",children:["+",ep.length-20," more"]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white/70",children:"Assign to Batch (optional)"}),(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:N,onChange:e=>{v(e.target.checked),e.target.checked&&w("")},className:"w-4 h-4 rounded border-white/20 bg-black/40"}),(0,a.jsx)("span",{className:"text-sm",children:"Create new batch"})]})}),N?(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("input",{type:"text",value:y,onChange:e=>C(e.target.value),placeholder:"Batch name (e.g., Q1 Campaign Leads)",className:"flex-1 px-4 py-2 bg-black/40 border border-white/10 rounded-lg focus:outline-none focus:border-indigo-500"}),(0,a.jsx)("div",{className:"flex gap-1",children:c.map(e=>(0,a.jsx)("button",{onClick:()=>_(e),className:`w-8 h-8 rounded-lg transition-all ${k===e?"ring-2 ring-white ring-offset-2 ring-offset-[#12121f]":""}`,style:{backgroundColor:e}},e))})]}):t&&t.length>0?(0,a.jsxs)("select",{value:j,onChange:e=>w(e.target.value),className:"w-full px-4 py-2 bg-black/40 border border-white/10 rounded-lg focus:outline-none focus:border-indigo-500",children:[(0,a.jsx)("option",{value:"",children:"No batch (individual contacts)"}),t.map(e=>(0,a.jsxs)("option",{value:e._id,children:[e.name," (",e.contactCount," contacts)"]},e._id))]}):(0,a.jsx)("p",{className:"text-white/40 text-sm",children:'No batches yet. Check "Create new batch" to create one.'})]}),z&&(0,a.jsxs)("div",{className:"p-4 bg-indigo-500/10 border border-indigo-500/20 rounded-lg",children:[(0,a.jsx)("div",{className:"font-medium text-indigo-300",children:"Import Complete!"}),(0,a.jsxs)("div",{className:"text-sm text-white/70 mt-1",children:[z.created," contacts imported, ",z.skipped," duplicates skipped"]})]})]}),(0,a.jsxs)("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3",children:[(0,a.jsx)("button",{onClick:()=>{b(!1),f(""),A(null)},className:"px-4 py-2 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:"Close"}),(0,a.jsx)("button",{onClick:eb,disabled:0===ep.length||D||N&&!y.trim(),className:"px-6 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg font-medium hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:D?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Importing..."]}):(0,a.jsxs)(a.Fragment,{children:["Import ",ep.length," Contacts"]})})]})]})}),I&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>P(!1),children:(0,a.jsxs)("div",{className:"bg-[#12121f] rounded-2xl border border-white/10 w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"p-6 border-b border-white/10",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Add Contact"}),(0,a.jsx)("p",{className:"text-white/50 text-sm mt-1",children:"Add a single contact to your list"})]}),(0,a.jsxs)("div",{className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:["Email Address ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("input",{type:"email",value:F,onChange:e=>B(e.target.value),placeholder:"contact@example.com",className:"w-full px-4 py-3 bg-black/40 border border-white/10 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors",autoFocus:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Name"}),(0,a.jsx)("input",{type:"text",value:E,onChange:e=>$(e.target.value),placeholder:"John Doe",className:"w-full px-4 py-3 bg-black/40 border border-white/10 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Phone Number"}),(0,a.jsx)("input",{type:"tel",value:Z,onChange:e=>q(e.target.value),placeholder:"(555) 123-4567",className:"w-full px-4 py-3 bg-black/40 border border-white/10 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors"})]})]}),(0,a.jsxs)("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3",children:[(0,a.jsx)("button",{onClick:()=>{P(!1),B(""),$(""),q("")},className:"px-4 py-2 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:eg,disabled:!F.trim()||U,className:"px-6 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg font-medium hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:U?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Adding..."]}):"Add Contact"})]})]})}),ea&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-[#12121f] rounded-2xl border border-white/10 w-full max-w-md",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Create Batch"}),(0,a.jsx)("button",{onClick:()=>ei(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:"✕"})]}),(0,a.jsxs)("p",{className:"text-sm text-white/50 mt-1",children:["Create a new batch with ",et.size," selected contacts"]})]}),(0,a.jsxs)("div",{className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Batch Name"}),(0,a.jsx)("input",{type:"text",value:er,onChange:e=>el(e.target.value),placeholder:"e.g., West Coast Shops",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-white/30 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Batch Color"}),(0,a.jsx)("div",{className:"flex gap-2 flex-wrap",children:c.map(e=>(0,a.jsx)("button",{onClick:()=>eo(e),className:`w-8 h-8 rounded-full transition-all ${en===e?"ring-2 ring-offset-2 ring-offset-[#12121f] ring-white scale-110":"hover:scale-105"}`,style:{backgroundColor:e}},e))})]})]}),(0,a.jsxs)("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3",children:[(0,a.jsx)("button",{onClick:()=>ei(!1),className:"px-4 py-2 text-white/60 hover:text-white transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:ek,disabled:!er.trim()||ec,className:"px-6 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg font-medium hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:ec?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creating..."]}):"Create Batch"})]})]})}),T&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-[#12121f] rounded-2xl border border-white/10 w-full max-w-md",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Add Zone"}),(0,a.jsx)("button",{onClick:()=>J(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:"✕"})]}),(0,a.jsxs)("p",{className:"text-sm text-white/50 mt-1",children:["Add a zone within ",em?.name]})]}),(0,a.jsxs)("div",{className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Zone Name"}),(0,a.jsx)("input",{type:"text",value:K,onChange:e=>O(e.target.value),placeholder:"e.g., Zone 1, North Phoenix, etc.",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-white/30 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Zone Color"}),(0,a.jsx)("div",{className:"flex gap-2 flex-wrap",children:c.map(e=>(0,a.jsx)("button",{onClick:()=>W(e),className:`w-8 h-8 rounded-full transition-all ${V===e?"ring-2 ring-offset-2 ring-offset-[#12121f] ring-white scale-110":"hover:scale-105"}`,style:{backgroundColor:e}},e))})]})]}),(0,a.jsxs)("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3",children:[(0,a.jsx)("button",{onClick:()=>J(!1),className:"px-4 py-2 text-white/60 hover:text-white transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:e_,disabled:!K.trim()||Q,className:"px-6 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg font-medium hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:Q?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creating..."]}):"Add Zone"})]})]})}),Y&&(0,a.jsx)(o.A,{contactId:Y,onClose:()=>ee(null)})]})}function x(){return(0,a.jsx)(n.q,{children:(0,a.jsx)(d,{})})}},46953:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\swizz\\\\Desktop\\\\Emailer\\\\emailer\\\\src\\\\app\\\\contacts\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\swizz\\Desktop\\Emailer\\emailer\\src\\app\\contacts\\page.tsx","default")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[989,952,987,817,300],()=>s(99701));module.exports=a})();